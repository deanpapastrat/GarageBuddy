(function(){function e(e){function t(t,n,r,i,o,a){for(;o>=0&&a>o;o+=e){var c=i?i[o]:o;r=n(r,t[c],c,t)}return r}return function(n,r,i,o){r=b(r,o,4);var a=!R(n)&&y.keys(n),c=(a||n).length,u=e>0?0:c-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=e),t(n,r,i,a,u,c)}}function t(e){return function(t,n,r){n=_(n,r);for(var i=S(t),o=e>0?0:i-1;o>=0&&i>o;o+=e)if(n(t[o],o,t))return o;return-1}}function n(e,t,n){return function(r,i,o){var a=0,c=S(r);if("number"==typeof o)e>0?a=o>=0?o:Math.max(o+c,a):c=o>=0?Math.min(o+1,c):o+c+1;else if(n&&o&&c)return o=n(r,i),r[o]===i?o:-1;if(i!==i)return o=t(f.call(r,a,c),y.isNaN),o>=0?o+a:-1;for(o=e>0?a:c-1;o>=0&&c>o;o+=e)if(r[o]===i)return o;return-1}}function r(e,t){var n=A.length,r=e.constructor,i=y.isFunction(r)&&r.prototype||c,o="constructor";for(y.has(e,o)&&!y.contains(t,o)&&t.push(o);n--;)o=A[n],o in e&&e[o]!==i[o]&&!y.contains(t,o)&&t.push(o)}var i=this,o=i._,a=Array.prototype,c=Object.prototype,u=Function.prototype,s=a.push,f=a.slice,l=c.toString,d=c.hasOwnProperty,p=Array.isArray,h=Object.keys,v=u.bind,m=Object.create,g=function(){},y=function(e){return e instanceof y?e:this instanceof y?void(this._wrapped=e):new y(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):i._=y,y.VERSION="1.8.3";var b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},_=function(e,t,n){return null==e?y.identity:y.isFunction(e)?b(e,t,n):y.isObject(e)?y.matcher(e):y.property(e)};y.iteratee=function(e,t){return _(e,t,1/0)};var w=function(e,t){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var o=arguments[i],a=e(o),c=a.length,u=0;c>u;u++){var s=a[u];t&&void 0!==n[s]||(n[s]=o[s])}return n}},C=function(e){if(!y.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},E=function(e){return function(t){return null==t?void 0:t[e]}},T=Math.pow(2,53)-1,S=E("length"),R=function(e){var t=S(e);return"number"==typeof t&&t>=0&&T>=t};y.each=y.forEach=function(e,t,n){t=b(t,n);var r,i;if(R(e))for(r=0,i=e.length;i>r;r++)t(e[r],r,e);else{var o=y.keys(e);for(r=0,i=o.length;i>r;r++)t(e[o[r]],o[r],e)}return e},y.map=y.collect=function(e,t,n){t=_(t,n);for(var r=!R(e)&&y.keys(e),i=(r||e).length,o=Array(i),a=0;i>a;a++){var c=r?r[a]:a;o[a]=t(e[c],c,e)}return o},y.reduce=y.foldl=y.inject=e(1),y.reduceRight=y.foldr=e(-1),y.find=y.detect=function(e,t,n){var r;return r=R(e)?y.findIndex(e,t,n):y.findKey(e,t,n),void 0!==r&&-1!==r?e[r]:void 0},y.filter=y.select=function(e,t,n){var r=[];return t=_(t,n),y.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},y.reject=function(e,t,n){return y.filter(e,y.negate(_(t)),n)},y.every=y.all=function(e,t,n){t=_(t,n);for(var r=!R(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},y.some=y.any=function(e,t,n){t=_(t,n);for(var r=!R(e)&&y.keys(e),i=(r||e).length,o=0;i>o;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},y.contains=y.includes=y.include=function(e,t,n,r){return R(e)||(e=y.values(e)),("number"!=typeof n||r)&&(n=0),y.indexOf(e,t,n)>=0},y.invoke=function(e,t){var n=f.call(arguments,2),r=y.isFunction(t);return y.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},y.pluck=function(e,t){return y.map(e,y.property(t))},y.where=function(e,t){return y.filter(e,y.matcher(t))},y.findWhere=function(e,t){return y.find(e,y.matcher(t))},y.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t&&null!=e){e=R(e)?e:y.values(e);for(var c=0,u=e.length;u>c;c++)r=e[c],r>o&&(o=r)}else t=_(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},y.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t&&null!=e){e=R(e)?e:y.values(e);for(var c=0,u=e.length;u>c;c++)r=e[c],o>r&&(o=r)}else t=_(t,n),y.each(e,function(e,n,r){i=t(e,n,r),(a>i||1/0===i&&1/0===o)&&(o=e,a=i)});return o},y.shuffle=function(e){for(var t,n=R(e)?e:y.values(e),r=n.length,i=Array(r),o=0;r>o;o++)t=y.random(0,o),t!==o&&(i[o]=i[t]),i[t]=n[o];return i},y.sample=function(e,t,n){return null==t||n?(R(e)||(e=y.values(e)),e[y.random(e.length-1)]):y.shuffle(e).slice(0,Math.max(0,t))},y.sortBy=function(e,t,n){return t=_(t,n),y.pluck(y.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,r){var i={};return n=_(n,r),y.each(t,function(r,o){var a=n(r,o,t);e(i,r,a)}),i}};y.groupBy=x(function(e,t,n){y.has(e,n)?e[n].push(t):e[n]=[t]}),y.indexBy=x(function(e,t,n){e[n]=t}),y.countBy=x(function(e,t,n){y.has(e,n)?e[n]++:e[n]=1}),y.toArray=function(e){return e?y.isArray(e)?f.call(e):R(e)?y.map(e,y.identity):y.values(e):[]},y.size=function(e){return null==e?0:R(e)?e.length:y.keys(e).length},y.partition=function(e,t,n){t=_(t,n);var r=[],i=[];return y.each(e,function(e,n,o){(t(e,n,o)?r:i).push(e)}),[r,i]},y.first=y.head=y.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:y.initial(e,e.length-t)},y.initial=function(e,t,n){return f.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},y.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:y.rest(e,Math.max(0,e.length-t))},y.rest=y.tail=y.drop=function(e,t,n){return f.call(e,null==t||n?1:t)},y.compact=function(e){return y.filter(e,y.identity)};var O=function(e,t,n,r){for(var i=[],o=0,a=r||0,c=S(e);c>a;a++){var u=e[a];if(R(u)&&(y.isArray(u)||y.isArguments(u))){t||(u=O(u,t,n));var s=0,f=u.length;for(i.length+=f;f>s;)i[o++]=u[s++]}else n||(i[o++]=u)}return i};y.flatten=function(e,t){return O(e,t,!1)},y.without=function(e){return y.difference(e,f.call(arguments,1))},y.uniq=y.unique=function(e,t,n,r){y.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=_(n,r));for(var i=[],o=[],a=0,c=S(e);c>a;a++){var u=e[a],s=n?n(u,a,e):u;t?(a&&o===s||i.push(u),o=s):n?y.contains(o,s)||(o.push(s),i.push(u)):y.contains(i,u)||i.push(u)}return i},y.union=function(){return y.uniq(O(arguments,!0,!0))},y.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=S(e);i>r;r++){var o=e[r];if(!y.contains(t,o)){for(var a=1;n>a&&y.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},y.difference=function(e){var t=O(arguments,!0,!0,1);return y.filter(e,function(e){return!y.contains(t,e)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(e){for(var t=e&&y.max(e,S).length||0,n=Array(t),r=0;t>r;r++)n[r]=y.pluck(e,r);return n},y.object=function(e,t){for(var n={},r=0,i=S(e);i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},y.findIndex=t(1),y.findLastIndex=t(-1),y.sortedIndex=function(e,t,n,r){n=_(n,r,1);for(var i=n(t),o=0,a=S(e);a>o;){var c=Math.floor((o+a)/2);n(e[c])<i?o=c+1:a=c}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;r>o;o++,e+=n)i[o]=e;return i};var D=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=C(e.prototype),a=e.apply(o,i);return y.isObject(a)?a:o};y.bind=function(e,t){if(v&&e.bind===v)return v.apply(e,f.call(arguments,1));if(!y.isFunction(e))throw new TypeError("Bind must be called on a function");var n=f.call(arguments,2),r=function(){return D(e,r,t,this,n.concat(f.call(arguments)))};return r},y.partial=function(e){var t=f.call(arguments,1),n=function(){for(var r=0,i=t.length,o=Array(i),a=0;i>a;a++)o[a]=t[a]===y?arguments[r++]:t[a];for(;r<arguments.length;)o.push(arguments[r++]);return D(e,n,this,this,o)};return n},y.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=y.bind(e[n],e);return e},y.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return y.has(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},y.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},y.defer=y.partial(y.delay,y,1),y.throttle=function(e,t,n){var r,i,o,a=null,c=0;n||(n={});var u=function(){c=n.leading===!1?0:y.now(),a=null,o=e.apply(r,i),a||(r=i=null)};return function(){var s=y.now();c||n.leading!==!1||(c=s);var f=t-(s-c);return r=this,i=arguments,0>=f||f>t?(a&&(clearTimeout(a),a=null),c=s,o=e.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,f)),o}},y.debounce=function(e,t,n){var r,i,o,a,c,u=function(){var s=y.now()-a;t>s&&s>=0?r=setTimeout(u,t-s):(r=null,n||(c=e.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=y.now();var s=n&&!r;return r||(r=setTimeout(u,t)),s&&(c=e.apply(o,i),o=i=null),c}},y.wrap=function(e,t){return y.partial(t,e)},y.negate=function(e){return function(){return!e.apply(this,arguments)}},y.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},y.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},y.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},y.once=y.partial(y.before,2);var P=!{toString:null}.propertyIsEnumerable("toString"),A=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(e){if(!y.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)y.has(e,n)&&t.push(n);return P&&r(e,t),t},y.allKeys=function(e){if(!y.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&r(e,t),t},y.values=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},y.mapObject=function(e,t,n){t=_(t,n);for(var r,i=y.keys(e),o=i.length,a={},c=0;o>c;c++)r=i[c],a[r]=t(e[r],r,e);return a},y.pairs=function(e){for(var t=y.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},y.invert=function(e){for(var t={},n=y.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},y.functions=y.methods=function(e){var t=[];for(var n in e)y.isFunction(e[n])&&t.push(n);return t.sort()},y.extend=w(y.allKeys),y.extendOwn=y.assign=w(y.keys),y.findKey=function(e,t,n){t=_(t,n);for(var r,i=y.keys(e),o=0,a=i.length;a>o;o++)if(r=i[o],t(e[r],r,e))return r},y.pick=function(e,t,n){var r,i,o={},a=e;if(null==a)return o;y.isFunction(t)?(i=y.allKeys(a),r=b(t,n)):(i=O(arguments,!1,!1,1),r=function(e,t,n){return t in n},a=Object(a));for(var c=0,u=i.length;u>c;c++){var s=i[c],f=a[s];r(f,s,a)&&(o[s]=f)}return o},y.omit=function(e,t,n){if(y.isFunction(t))t=y.negate(t);else{var r=y.map(O(arguments,!1,!1,1),String);t=function(e,t){return!y.contains(r,t)}}return y.pick(e,t,n)},y.defaults=w(y.allKeys,!0),y.create=function(e,t){var n=C(e);return t&&y.extendOwn(n,t),n},y.clone=function(e){return y.isObject(e)?y.isArray(e)?e.slice():y.extend({},e):e},y.tap=function(e,t){return t(e),e},y.isMatch=function(e,t){var n=y.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;r>o;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0};var M=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof y&&(e=e._wrapped),t instanceof y&&(t=t._wrapped);var i=l.call(e);if(i!==l.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var o="[object Array]"===i;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,c=t.constructor;if(a!==c&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===e)return r[u]===t;if(n.push(e),r.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!M(e[u],t[u],n,r))return!1}else{var s,f=y.keys(e);if(u=f.length,y.keys(t).length!==u)return!1;for(;u--;)if(s=f[u],!y.has(t,s)||!M(e[s],t[s],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(e,t){return M(e,t)},y.isEmpty=function(e){return null==e?!0:R(e)&&(y.isArray(e)||y.isString(e)||y.isArguments(e))?0===e.length:0===y.keys(e).length},y.isElement=function(e){return!(!e||1!==e.nodeType)},y.isArray=p||function(e){return"[object Array]"===l.call(e)},y.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){y["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),y.isArguments(arguments)||(y.isArguments=function(e){return y.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(e){return"function"==typeof e||!1}),y.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},y.isNaN=function(e){return y.isNumber(e)&&e!==+e},y.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},y.isNull=function(e){return null===e},y.isUndefined=function(e){return void 0===e},y.has=function(e,t){return null!=e&&d.call(e,t)},y.noConflict=function(){return i._=o,this},y.identity=function(e){return e},y.constant=function(e){return function(){return e}},y.noop=function(){},y.property=E,y.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},y.matcher=y.matches=function(e){return e=y.extendOwn({},e),function(t){return y.isMatch(t,e)}},y.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},y.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=y.invert(j),k=function(e){var t=function(t){return e[t]},n="(?:"+y.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};y.escape=k(j),y.unescape=k(I),y.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),y.isFunction(r)?r.call(e):r};var N=0;y.uniqueId=function(e){var t=++N+"";return e?e+t:t},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},U=/\\|'|\r|\n|\u2028|\u2029/g,F=function(e){return"\\"+z[e]};y.template=function(e,t,n){!t&&n&&(t=n),t=y.defaults({},t,y.templateSettings);var r=RegExp([(t.escape||L).source,(t.interpolate||L).source,(t.evaluate||L).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(r,function(t,n,r,a,c){return o+=e.slice(i,c).replace(U,F),i=c+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(t.variable||"obj","_",o)}catch(c){throw c.source=o,c}var u=function(e){return a.call(this,e,y)},s=t.variable||"obj";return u.source="function("+s+"){\n"+o+"}",u},y.chain=function(e){var t=y(e);return t._chain=!0,t};var G=function(e,t){return e._chain?y(t).chain():t};y.mixin=function(e){y.each(y.functions(e),function(t){var n=y[t]=e[t];y.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),G(this,n.apply(y,e))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];y.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],G(this,n)}}),y.each(["concat","join","slice"],function(e){var t=a[e];y.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}).call(this),!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(t.toString())["default"]:"object"==typeof exports?exports.Quagga=t(t.toString())["default"]:e.Quagga=t(t.toString())["default"]}(this,function(e){return function(e){function t(r){if(n[r])return n[r].e;var i=n[r]={e:{},i:r,l:!1};return e[r].call(i.e,i,i.e,t),i.l=!0,i.e}var n={};return t.m=e,t.c=n,t.p="/",t(t.s=158)}([function(e,t,n){"use strict";var r=!0,i={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(r=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(r)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={};if(e.browser=null,e.version=null,e.minVersion=null,"undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),e.minVersion=31;else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),e.minVersion=38;else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1),e.minVersion=602}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),e.minVersion=10547}return e.version<e.minVersion&&i.log("Browser: "+e.browser+" Version: "+e.version+" < minimum supported version: "+e.minVersion+"\n some things might not work!"),e}};e.e={log:i.log,disableLog:i.disableLog,browserDetails:i.detectBrowser(),extractVersion:i.extractVersion}},function(e,t,n){(function(e,r){var i=n(106),o={"function":!0,object:!0},a=o[typeof t]&&t&&!t.nodeType?t:void 0,c=o[typeof e]&&e&&!e.nodeType?e:void 0,u=i(a&&c&&"object"==typeof r&&r),s=i(o[typeof self]&&self),f=i(o[typeof window]&&window),l=i(o[typeof this]&&this),d=u||f!==(l&&l.window)&&f||s||l||Function("return this")();e.e=d}).call(t,n(48)(e),function(){return this}())},function(e,t,n){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.e=r},function(e,t,n){function r(e,t){e=a.a.bind()(i(),e),c.a.call(this,e,t)}function i(){var e={};return Object.keys(r.CONFIG_KEYS).forEach(function(t){e[t]=r.CONFIG_KEYS[t]["default"]}),e}var o=n(17),a=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(a,"a",{get:a});var c=n(6),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s={CODE_L_START:{value:0},CODE_G_START:{value:10},START_PATTERN:{value:[1,1,1]},STOP_PATTERN:{value:[1,1,1]},MIDDLE_PATTERN:{value:[1,1,1,1,1]},EXTENSION_START_PATTERN:{value:[1,1,2]},CODE_PATTERN:{value:[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]]},CODE_FREQUENCY:{value:[0,11,13,14,19,25,28,21,22,26]},SINGLE_CODE_ERROR:{value:.7},AVG_CODE_ERROR:{value:.48},FORMAT:{value:"ean_13",writeable:!1}};r.prototype=Object.create(c.a.prototype,s),r.prototype.constructor=r,r.prototype._decodeCode=function(e,t){var n,r,i,o=[0,0,0,0],a=this,c=e,u=!a._row[c],s=0,f={error:Number.MAX_VALUE,code:-1,start:e,end:e};for(t||(t=a.CODE_PATTERN.length),n=c;n<a._row.length;n++)if(a._row[n]^u)o[s]++;else{if(s===o.length-1){for(r=0;t>r;r++)i=a._matchPattern(o,a.CODE_PATTERN[r]),i<f.error&&(f.code=r,f.error=i);return f.end=n,f.error>a.AVG_CODE_ERROR?null:f}s++,o[s]=1,u=!u}return null},r.prototype._findPattern=function(e,t,n,r,i){var o,a,c,u,s=[],f=this,l=0,d={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t||(t=f._nextSet(f._row)),void 0===n&&(n=!1),void 0===r&&(r=!0),void 0===i&&(i=f.AVG_CODE_ERROR),o=0;o<e.length;o++)s[o]=0;for(o=t;o<f._row.length;o++)if(f._row[o]^n)s[l]++;else{if(l===s.length-1){for(u=0,c=0;c<s.length;c++)u+=s[c];if(a=f._matchPattern(s,e),i>a)return d.error=a,d.start=o-u,d.end=o,d;if(!r)return null;for(c=0;c<s.length-2;c++)s[c]=s[c+2];s[s.length-2]=0,s[s.length-1]=0,l--}else l++;s[l]=1,n=!n}return null},r.prototype._findStart=function(){for(var e,t,n=this,r=n._nextSet(n._row);!t;){if(t=n._findPattern(n.START_PATTERN,r),!t)return null;if(e=t.start-(t.end-t.start),e>=0&&n._matchRange(e,t.start,0))return t;r=t.end,t=null}},r.prototype._verifyTrailingWhitespace=function(e){var t,n=this;return t=e.end+(e.end-e.start),t<n._row.length&&n._matchRange(e.end,t,0)?e:null},r.prototype._findEnd=function(e,t){var n=this,r=n._findPattern(n.STOP_PATTERN,e,t,!1);return null!==r?n._verifyTrailingWhitespace(r):null},r.prototype._calculateFirstDigit=function(e){var t,n=this;for(t=0;t<n.CODE_FREQUENCY.length;t++)if(e===n.CODE_FREQUENCY[t])return t;return null},r.prototype._decodePayload=function(e,t,n){var r,i,o=this,a=0;for(r=0;6>r;r++){if(e=o._decodeCode(e.end),!e)return null;e.code>=o.CODE_G_START?(e.code=e.code-o.CODE_G_START,a|=1<<5-r):a|=0<<5-r,t.push(e.code),n.push(e)}if(i=o._calculateFirstDigit(a),null===i)return null;if(t.unshift(i),e=o._findPattern(o.MIDDLE_PATTERN,e.end,!0,!1),null===e)return null;for(n.push(e),r=0;6>r;r++){if(e=o._decodeCode(e.end,o.CODE_G_START),!e)return null;n.push(e),t.push(e.code)}return e},r.prototype._decode=function(){var e,t,n=this,r=[],i=[],o={};if(e=n._findStart(),!e)return null;if(t={code:e.code,start:e.start,end:e.end},i.push(t),t=n._decodePayload(t,r,i),!t)return null;if(t=n._findEnd(t.end,!1),!t)return null;if(i.push(t),!n._checksum(r))return null;if(this.supplements.length>0){var a=this._decodeExtensions(t.end);if(!a)return null;var c=a.decodedCodes[a.decodedCodes.length-1],s={start:c.start+((c.end-c.start)/2|0),end:c.end};if(!n._verifyTrailingWhitespace(s))return null;o={supplement:a,code:r.join("")+a.code}}return u({code:r.join(""),start:e.start,end:t.end,codeset:"",startInfo:e,decodedCodes:i},o)},r.prototype._decodeExtensions=function(e){var t,n,r=this._nextSet(this._row,e),i=this._findPattern(this.EXTENSION_START_PATTERN,r,!1,!1);if(null===i)return null;for(t=0;t<this.supplements.length;t++)if(n=this.supplements[t].decode(this._row,i.end),null!==n)return{code:n.code,start:r,startInfo:i,end:n.end,codeset:"",decodedCodes:n.decodedCodes};return null},r.prototype._checksum=function(e){var t,n=0;for(t=e.length-2;t>=0;t-=2)n+=e[t];for(n*=3,t=e.length-1;t>=0;t-=2)n+=e[t];return n%10===0},r.CONFIG_KEYS={supplements:{type:"arrayOf(string)","default":[],description:"Allowed extensions to be decoded (2 and/or 5)"}},t.a=r},function(e,t,n){var r=n(12),i=n(1),o=r(i,"Map");e.e=o},function(e,t,n){var r=Array.isArray;e.e=r},function(e,t,n){function r(e,t){return this._row=[],this.config=e||{},this.supplements=t,this}r.prototype._nextUnset=function(e,t){var n;for(void 0===t&&(t=0),n=t;n<e.length;n++)if(!e[n])return n;return e.length},r.prototype._matchPattern=function(e,t,n){var r,i,o,a,c=0,u=0,s=0,f=0;for(n=n||this.SINGLE_CODE_ERROR||1,r=0;r<e.length;r++)s+=e[r],f+=t[r];if(f>s)return Number.MAX_VALUE;for(i=s/f,n*=i,r=0;r<e.length;r++){if(o=e[r],a=t[r]*i,u=Math.abs(o-a)/a,u>n)return Number.MAX_VALUE;c+=u}return c/f},r.prototype._nextSet=function(e,t){var n;for(t=t||0,n=t;n<e.length;n++)if(e[n])return n;return e.length},r.prototype._correctBars=function(e,t,n){for(var r=n.length,i=0;r--;)i=e[n[r]]*(1-(1-t)/2),i>1&&(e[n[r]]=i)},r.prototype._matchTrace=function(e,t){var n,r,i=[],o=this,a=o._nextSet(o._row),c=!o._row[a],u=0,s={error:Number.MAX_VALUE,code:-1,start:0};if(e){for(n=0;n<e.length;n++)i.push(0);for(n=a;n<o._row.length;n++)if(o._row[n]^c)i[u]++;else{if(u===i.length-1)return r=o._matchPattern(i,e),t>r?(s.start=n-a,s.end=n,s.counter=i,s):null;u++,i[u]=1,c=!c}}else for(i.push(0),n=a;n<o._row.length;n++)o._row[n]^c?i[u]++:(u++,i.push(0),i[u]=1,c=!c);return s.start=a,s.end=o._row.length-1,s.counter=i,s},r.prototype.decodePattern=function(e){var t,n=this;return n._row=e,t=n._decode(),null===t?(n._row.reverse(),t=n._decode(),t&&(t.direction=r.DIRECTION.REVERSE,t.start=n._row.length-t.start,t.end=n._row.length-t.end)):t.direction=r.DIRECTION.FORWARD,t&&(t.format=n.FORMAT),t},r.prototype._matchRange=function(e,t,n){var r;for(e=0>e?0:e,r=e;t>r;r++)if(this._row[r]!==n)return!1;return!0},r.prototype._fillCounters=function(e,t,n){var r,i=this,o=0,a=[];for(n="undefined"!=typeof n?n:!0,e="undefined"!=typeof e?e:i._nextUnset(i._row),t=t||i._row.length,a[o]=0,r=e;t>r;r++)i._row[r]^n?a[o]++:(o++,a[o]=1,n=!n);return a},Object.defineProperty(r.prototype,"FORMAT",{value:"unknown",writeable:!1}),r.DIRECTION={FORWARD:1,REVERSE:-1},r.Exception={StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"},r.CONFIG_KEYS={},t.a=r},function(e,t,n){function r(e){var t=new Float32Array(2);return t[0]=e[0],t[1]=e[1],t}e.e=r},function(e,t,n){function r(e){return!!e&&"object"==typeof e}e.e=r},function(e,t,n){t.a={init:function(e,t){for(var n=e.length;n--;)e[n]=t},shuffle:function(e){var t,n,r=e.length-1;for(r;r>=0;r--)t=Math.floor(Math.random()*r),n=e[r],e[r]=e[t],e[t]=n;return e},toPointList:function(e){var t,n,r=[],i=[];for(t=0;t<e.length;t++){for(r=[],n=0;n<e[t].length;n++)r[n]=e[t][n];i[t]="["+r.join(",")+"]"}return"["+i.join(",\r\n")+"]"},threshold:function(e,t,n){var r,i=[];for(r=0;r<e.length;r++)n.apply(e,[e[r]])>=t&&i.push(e[r]);return i},maxIndex:function(e){var t,n=0;for(t=0;t<e.length;t++)e[t]>e[n]&&(n=t);return n},max:function r(e){var t,r=0;for(t=0;t<e.length;t++)e[t]>r&&(r=e[t]);return r},sum:function i(e){for(var t=e.length,i=0;t--;)i+=e[t];return i}}},function(e,t,n){t.a={drawRect:function(e,t,n,r){n.strokeStyle=r.color,n.fillStyle=r.color,n.lineWidth=1,n.beginPath(),n.strokeRect(e.x,e.y,t.x,t.y)},drawPath:function(e,t,n,r){n.strokeStyle=r.color,n.fillStyle=r.color,n.lineWidth=r.lineWidth,n.beginPath(),n.moveTo(e[0][t.x],e[0][t.y]);for(var i=1;i<e.length;i++)n.lineTo(e[i][t.x],e[i][t.y]);n.closePath(),n.stroke()},drawImage:function(e,t,n){var r,i=n.getImageData(0,0,t.x,t.y),o=i.data,a=e.length,c=o.length;if(c/a!==4)return!1;for(;a--;)r=e[a],o[--c]=255,o[--c]=r,o[--c]=r,o[--c]=r;return n.putImageData(i,0,0),!0}}},function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(15);e.e=r},function(e,t,n){function r(e,t){var n=e[t];return i(n)?n:void 0}var i=n(142);e.e=r},function(e,t,n){function r(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}e.e=r},function(e,t,n){var r=n(12),i=r(Object,"create");e.e=i},function(e,t,n){function r(e,t){return e===t||e!==e&&t!==t}e.e=r},function(e,t,n){function r(e){var t=i(e)?u.call(e):"";return t==o||t==a}var i=n(2),o="[object Function]",a="[object GeneratorFunction]",c=Object.prototype,u=c.toString;e.e=r},function(e,t,n){var r=n(101),i=n(115),o=i(function(e,t,n){r(e,t,n)});e.e=o},function(e,t,n){function r(e,t){var n={x:e,y:t,toVec2:function(){return w.clone([this.x,this.y])},toVec3:function(){return C.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}};return n}function i(e,t,n){n||(n=e);for(var r=e.data,i=r.length,o=n.data;i--;)o[i]=r[i]<t?1:0}function o(e,t){t||(t=8);for(var n=e.data,r=n.length,i=8-t,o=1<<t,a=new Int32Array(o);r--;)a[n[r]>>i]++;return a}function a(e,t){function n(e,t){var n,r=0;for(n=e;t>=n;n++)r+=a[n];return r}function r(e,t){var n,r=0;for(n=e;t>=n;n++)r+=n*a[n];return r}function i(){var i,c,u,s,f,l,d,p=[0],h=(1<<t)-1;for(a=o(e,t),s=1;h>s;s++)i=n(0,s),c=n(s+1,h),u=i*c,0===u&&(u=1),f=r(0,s)*c,l=r(s+1,h)*i,d=f-l,p[s]=d*d/u;return _.a.maxIndex(p)}t||(t=8);var a,c,u=8-t;return c=i(),c<<u}function c(e,t){var n=a(e);return i(e,n,t),n}function u(e,t,n){function r(e){var t=!1;for(o=0;o<u.length;o++)a=u[o],a.fits(e)&&(a.add(e),t=!0);return t}var i,o,a,c,u=[];for(n||(n="rad"),i=0;i<e.length;i++)c=b.a.createPoint(e[i],i,n),r(c)||u.push(b.a.create(c,t));return u}function s(e,t,n){var r,i,o,a,c=0,u=0,s=[];for(r=0;t>r;r++)s[r]={score:0,item:null};for(r=0;r<e.length;r++)if(i=n.apply(this,[e[r]]),i>u)for(o=s[c],o.score=i,o.item=e[r],u=Number.MAX_VALUE,a=0;t>a;a++)s[a].score<u&&(u=s[a].score,c=a);return s}function f(e,t,n){for(var r,i=0,o=t.x,a=Math.floor(e.length/4),c=t.x/2,u=0,s=t.x;a>o;){for(r=0;c>r;r++)n[u]=Math.floor((.299*e[4*i+0]+.587*e[4*i+1]+.114*e[4*i+2]+(.299*e[4*(i+1)+0]+.587*e[4*(i+1)+1]+.114*e[4*(i+1)+2])+(.299*e[4*o+0]+.587*e[4*o+1]+.114*e[4*o+2])+(.299*e[4*(o+1)+0]+.587*e[4*(o+1)+1]+.114*e[4*(o+1)+2]))/4),u++,i+=2,o+=2;i+=s,o+=s}}function l(e,t,n){var r,i=e.length/4|0,o=n&&n.singleChannel===!0;if(o)for(r=0;i>r;r++)t[r]=e[4*r+0];else for(r=0;i>r;r++)t[r]=Math.floor(.299*e[4*r+0]+.587*e[4*r+1]+.114*e[4*r+2])}function d(e,t){for(var n=e.data,r=e.size.x,i=t.data,o=0,a=r,c=n.length,u=r/2,s=0;c>a;){for(var f=0;u>f;f++)i[s]=Math.floor((n[o]+n[o+1]+n[a]+n[a+1])/4),s++,o+=2,a+=2;o+=r,a+=r}}function p(e,t){var n=e[0],r=e[1],i=e[2],o=i*r,a=o*(1-Math.abs(n/60%2-1)),c=i-o,u=0,s=0,f=0;return t=t||[0,0,0],60>n?(u=o,s=a):120>n?(u=a,s=o):180>n?(s=o,f=a):240>n?(s=a,f=o):300>n?(u=a,f=o):360>n&&(u=o,f=a),t[0]=255*(u+c)|0,t[1]=255*(s+c)|0,t[2]=255*(f+c)|0,t}function h(e){var t,n=[],r=[];for(t=1;t<Math.sqrt(e)+1;t++)e%t===0&&(r.push(t),t!==e/t&&n.unshift(Math.floor(e/t)));return r.concat(n)}function v(e,t){for(var n=0,r=0,i=[];n<e.length&&r<t.length;)e[n]===t[r]?(i.push(e[n]),n++,r++):e[n]>t[r]?r++:n++;return i}function m(e,t){function n(e){for(var t=0,n=e[Math.floor(e.length/2)];t<e.length-1&&e[t]<d;)t++;return t>0&&(n=Math.abs(e[t]-d)>Math.abs(e[t-1]-d)?e[t-1]:e[t]),d/n<u[f+1]/u[f]&&d/n>u[f-1]/u[f]?{x:n,y:n}:null}var r,i=h(t.x),o=h(t.y),a=Math.max(t.x,t.y),c=v(i,o),u=[8,10,15,20,32,60,80],s={"x-small":5,small:4,medium:3,large:2,"x-large":1},f=s[e]||s.medium,l=u[f],d=Math.floor(a/l);return r=n(c),r||(r=n(h(a)),r||(r=n(h(d*l)))),r}function g(e){var t={value:parseFloat(e),unit:(e.indexOf("%")===e.length-1,"%")};return t}function y(e,t,n){var r={width:e,height:t},i=Object.keys(n).reduce(function(e,t){var i=n[t],o=g(i),a=E[t](o,r);return e[t]=a,e},{});return{sx:i.left,sy:i.top,sw:i.right-i.left,sh:i.bottom-i.top}}var b=n(51),_=n(9);t.f=r,t.c=c,t.d=u,t.e=s,t.i=f,t.j=l,t.g=d,t.a=p,t.b=m,t.h=y;var w={clone:n(7)},C={clone:n(80)},E={top:function(e,t){return"%"===e.unit?Math.floor(t.height*(e.value/100)):void 0},right:function(e,t){return"%"===e.unit?Math.floor(t.width-t.width*(e.value/100)):void 0},bottom:function(e,t){return"%"===e.unit?Math.floor(t.height-t.height*(e.value/100)):void 0},left:function(e,t){return"%"===e.unit?Math.floor(t.width*(e.value/100)):void 0}}},function(e,t,n){function r(e,t,n,r){t?this.data=t:n?(this.data=new n(e.x*e.y),n===Array&&r&&a.a.init(this.data,0)):(this.data=new Uint8Array(e.x*e.y),Uint8Array===Array&&r&&a.a.init(this.data,0)),this.size=e}var i=n(53),o=n(18),a=n(9),c={clone:n(7)};r.prototype.inImageWithBorder=function(e,t){return e.x>=t&&e.y>=t&&e.x<this.size.x-t&&e.y<this.size.y-t},r.sample=function(e,t,n){var r=Math.floor(t),i=Math.floor(n),o=e.size.x,a=i*e.size.x+r,c=e.data[a+0],u=e.data[a+1],s=e.data[a+o],f=e.data[a+o+1],l=c-u;t-=r,n-=i;var d=Math.floor(t*(n*(l-s+f)-l)+n*(s-c)+c);return d},r.clearArray=function(e){for(var t=e.length;t--;)e[t]=0},r.prototype.subImage=function(e,t){return new i.a(e,t,this);
},r.prototype.subImageAsCopy=function(e,t){var n,r,i=e.size.y,o=e.size.x;for(n=0;o>n;n++)for(r=0;i>r;r++)e.data[r*o+n]=this.data[(t.y+r)*this.size.x+t.x+n]},r.prototype.copyTo=function(e){for(var t=this.data.length,n=this.data,r=e.data;t--;)r[t]=n[t]},r.prototype.get=function(e,t){return this.data[t*this.size.x+e]},r.prototype.getSafe=function(e,t){var n;if(!this.indexMapping){for(this.indexMapping={x:[],y:[]},n=0;n<this.size.x;n++)this.indexMapping.x[n]=n,this.indexMapping.x[n+this.size.x]=n;for(n=0;n<this.size.y;n++)this.indexMapping.y[n]=n,this.indexMapping.y[n+this.size.y]=n}return this.data[this.indexMapping.y[t+this.size.y]*this.size.x+this.indexMapping.x[e+this.size.x]]},r.prototype.set=function(e,t,n){return this.data[t*this.size.x+e]=n,this},r.prototype.zeroBorder=function(){var e,t=this.size.x,n=this.size.y,r=this.data;for(e=0;t>e;e++)r[e]=r[(n-1)*t+e]=0;for(e=1;n-1>e;e++)r[e*t]=r[e*t+(t-1)]=0},r.prototype.invert=function(){for(var e=this.data,t=e.length;t--;)e[t]=e[t]?0:1},r.prototype.convolve=function(e){var t,n,r,i,o=e.length/2|0,a=0;for(n=0;n<this.size.y;n++)for(t=0;t<this.size.x;t++){for(a=0,i=-o;o>=i;i++)for(r=-o;o>=r;r++)a+=e[i+o][r+o]*this.getSafe(t+r,n+i);this.data[n*this.size.x+t]=a}},r.prototype.moments=function(e){var t,n,r,i,o,a,u,s,f,l,d,p,h=this.data,v=this.size.y,m=this.size.x,g=[],y=[],b=Math.PI,_=b/4;if(0>=e)return y;for(o=0;e>o;o++)g[o]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(n=0;v>n;n++)for(i=n*n,t=0;m>t;t++)r=h[n*m+t],r>0&&(a=g[r-1],a.m00+=1,a.m01+=n,a.m10+=t,a.m11+=t*n,a.m02+=i,a.m20+=t*t);for(o=0;e>o;o++)a=g[o],isNaN(a.m00)||0===a.m00||(l=a.m10/a.m00,d=a.m01/a.m00,u=a.m11/a.m00-l*d,s=a.m02/a.m00-d*d,f=a.m20/a.m00-l*l,p=(s-f)/(2*u),p=.5*Math.atan(p)+(u>=0?_:-_)+b,a.theta=(180*p/b+90)%180-90,a.theta<0&&(a.theta+=180),a.rad=p>b?p-b:p,a.vec=c.clone([Math.cos(p),Math.sin(p)]),y.push(a));return y},r.prototype.show=function(e,t){var n,r,i,o,a,c,u;for(t||(t=1),n=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,r=n.getImageData(0,0,e.width,e.height),i=r.data,o=0,u=0;u<this.size.y;u++)for(c=0;c<this.size.x;c++)a=u*this.size.x+c,o=this.get(c,u)*t,i[4*a+0]=o,i[4*a+1]=o,i[4*a+2]=o,i[4*a+3]=255;n.putImageData(r,0,0)},r.prototype.overlay=function(e,t,n){(!t||0>t||t>360)&&(t=360);for(var r=[0,1,1],i=[0,0,0],a=[255,255,255],c=[0,0,0],u=[],s=e.getContext("2d"),f=s.getImageData(n.x,n.y,this.size.x,this.size.y),l=f.data,d=this.data.length;d--;)r[0]=this.data[d]*t,u=r[0]<=0?a:r[0]>=360?c:o.a.bind()(r,i),l[4*d+0]=u[0],l[4*d+1]=u[1],l[4*d+2]=u[2],l[4*d+3]=255;s.putImageData(f,n.x,n.y)},t.a=r},function(e,t,n){function r(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}e.e=r},function(e,t,n){function r(e,t,n){return i(e,t,n)}var i=n(113);e.e=r},function(e,t,n){function r(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.e=r},function(e,t,n){function r(e,t){return e="number"==typeof e||o.test(e)?+e:-1,t=null==t?i:t,e>-1&&e%1==0&&t>e}var i=9007199254740991,o=/^(?:0|[1-9]\d*)$/;e.e=r},function(e,t,n){function r(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||i;return e===n}var i=Object.prototype;e.e=r},function(e,t,n){function r(e){return i(e)&&c.call(e,"callee")&&(!s.call(e,"callee")||u.call(e)==o)}var i=n(27),o="[object Arguments]",a=Object.prototype,c=a.hasOwnProperty,u=a.toString,s=a.propertyIsEnumerable;e.e=r},function(e,t,n){function r(e){return null!=e&&a(i(e))&&!o(e)}var i=n(117),o=n(16),a=n(28);e.e=r},function(e,t,n){function r(e){return o(e)&&i(e)}var i=n(26),o=n(8);e.e=r},function(e,t,n){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&i>=e}var i=9007199254740991;e.e=r},function(e,t,n){var r={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,t){function n(e,t,n,r){var i,f,l;for(i=0;7>i;i++){if(f=e.cy+u[e.dir][0],l=e.cx+u[e.dir][1],o=f*s+l,a[o]===t&&(0===c[o]||c[o]===n))return c[o]=n,e.cy=f,e.cx=l,!0;0===c[o]&&(c[o]=r),e.dir=(e.dir+1)%8}return!1}function r(e,t,n){return{dir:n,x:e,y:t,next:null,prev:null}}function i(e,t,i,o,a){var c,u,s,f=null,l={cx:t,cy:e,dir:0};if(n(l,o,i,a)){f=r(t,e,l.dir),c=f,s=l.dir,u=r(l.cx,l.cy,0),u.prev=c,c.next=u,u.next=null,c=u;do l.dir=(l.dir+6)%8,n(l,o,i,a),s!==l.dir?(c.dir=l.dir,u=r(l.cx,l.cy,0),u.prev=c,c.next=u,u.next=null,c=u):(c.dir=s,c.x=l.cx,c.y=l.cy),s=l.dir;while(l.cx!==t||l.cy!==e);f.prev=c.prev,c.prev.next=f}return f}var o,a=e.data,c=t.data,u=this.searchDirections,s=e.size.x;return{trace:function(e,t,r,i){return n(e,t,r,i)},contourTracing:function(e,t,n,r,o){return i(e,t,n,r,o)}}}};t.a=r},function(e,t,n){function r(){i.a.call(this)}var i=n(6),o=n(9),a={ALPHABETH_STRING:{value:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,45,46,32,42,36,47,43,37]},CHARACTER_ENCODINGS:{value:[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]},ASTERISK:{value:148},FORMAT:{value:"code_39",writeable:!1}};r.prototype=Object.create(i.a.prototype,a),r.prototype.constructor=r,r.prototype._toCounters=function(e,t){var n,r=this,i=t.length,a=r._row.length,c=!r._row[e],u=0;for(o.a.init(t,0),n=e;a>n;n++)if(r._row[n]^c)t[u]++;else{if(u++,u===i)break;t[u]=1,c=!c}return t},r.prototype._decode=function(){var e,t,n,r,i=this,a=[0,0,0,0,0,0,0,0,0],c=[],u=i._findStart();if(!u)return null;r=i._nextSet(i._row,u.end);do{if(a=i._toCounters(r,a),n=i._toPattern(a),0>n)return null;if(e=i._patternToChar(n),0>e)return null;c.push(e),t=r,r+=o.a.sum(a),r=i._nextSet(i._row,r)}while("*"!==e);return c.pop(),c.length&&i._verifyTrailingWhitespace(t,r,a)?{code:c.join(""),start:u.start,end:r,startInfo:u,decodedCodes:c}:null},r.prototype._verifyTrailingWhitespace=function(e,t,n){var r,i=o.a.sum(n);return r=t-e-i,3*r>=i},r.prototype._patternToChar=function(e){var t,n=this;for(t=0;t<n.CHARACTER_ENCODINGS.length;t++)if(n.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(n.ALPHABET[t]);return-1},r.prototype._findNextWidth=function(e,t){var n,r=Number.MAX_VALUE;for(n=0;n<e.length;n++)e[n]<r&&e[n]>t&&(r=e[n]);return r},r.prototype._toPattern=function(e){for(var t,n,r=e.length,i=0,o=r,a=0,c=this;o>3;){for(i=c._findNextWidth(e,i),o=0,t=0,n=0;r>n;n++)e[n]>i&&(t|=1<<r-1-n,o++,a+=e[n]);if(3===o){for(n=0;r>n&&o>0;n++)if(e[n]>i&&(o--,2*e[n]>=a))return-1;return t}}return-1},r.prototype._findStart=function(){var e,t,n,r=this,i=r._nextSet(r._row),o=i,a=[0,0,0,0,0,0,0,0,0],c=0,u=!1;for(e=i;e<r._row.length;e++)if(r._row[e]^u)a[c]++;else{if(c===a.length-1){if(r._toPattern(a)===r.ASTERISK&&(n=Math.floor(Math.max(0,o-(e-o)/4)),r._matchRange(n,o,0)))return{start:o,end:e};for(o+=a[0]+a[1],t=0;7>t;t++)a[t]=a[t+2];a[7]=0,a[8]=0,c--}else c++;a[c]=1,u=!u}return null},t.a=r},function(e,t,n){function r(e,t){return e[0]*t[0]+e[1]*t[1]}e.e=r},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(135),o=n(136),a=n(137),c=n(138),u=n(139);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=c,r.prototype.set=u,e.e=r},function(e,t,n){function r(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}e.e=r},function(e,t,n){function r(e,t,n){(void 0===n||i(e[t],n))&&("number"!=typeof t||void 0!==n||t in e)||(e[t]=n)}var i=n(15);e.e=r},function(e,t,n){function r(e,t,n){var r=e[t];a.call(e,t)&&i(r,n)&&(void 0!==n||t in e)||(e[t]=n)}var i=n(15),o=Object.prototype,a=o.hasOwnProperty;e.e=r},function(e,t,n){function r(e,t){var n=i(e,t);if(0>n)return!1;var r=e.length-1;return n==r?e.pop():a.call(e,n,1),!0}var i=n(11),o=Array.prototype,a=o.splice;e.e=r},function(e,t,n){function r(e,t){var n=i(e,t);return 0>n?void 0:e[n][1]}var i=n(11);e.e=r},function(e,t,n){function r(e,t){return i(e,t)>-1}var i=n(11);e.e=r},function(e,t,n){function r(e,t,n){var r=i(e,t);0>r?e.push([t,n]):e[r][1]=n}var i=n(11);e.e=r},function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(86);e.e=r},function(e,t,n){function r(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.e=r},function(e,t,n){function r(e,t){return i?void 0!==e[t]:a.call(e,t)}var i=n(14),o=Object.prototype,a=o.hasOwnProperty;e.e=r},function(e,t,n){function r(e){var t=e?e.length:void 0;return c(t)&&(a(e)||u(e)||o(e))?i(t,String):null}var i=n(105),o=n(25),a=n(5),c=n(28),u=n(144);e.e=r},function(e,t,n){function r(e){return o(e)&&i(e.length)&&!!D[A.call(e)]}var i=n(28),o=n(8),a="[object Arguments]",c="[object Array]",u="[object Boolean]",s="[object Date]",f="[object Error]",l="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",v="[object RegExp]",m="[object Set]",g="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",_="[object Float32Array]",w="[object Float64Array]",C="[object Int8Array]",E="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",R="[object Uint8ClampedArray]",x="[object Uint16Array]",O="[object Uint32Array]",D={};D[_]=D[w]=D[C]=D[E]=D[T]=D[S]=D[R]=D[x]=D[O]=!0,D[a]=D[c]=D[b]=D[u]=D[s]=D[f]=D[l]=D[d]=D[p]=D[h]=D[v]=D[m]=D[g]=D[y]=!1;var P=Object.prototype,A=P.toString;e.e=r},function(e,t,n){function r(e){var t=s(e);if(!t&&!c(e))return o(e);var n=a(e),r=!!n,f=n||[],l=f.length;for(var d in e)!i(e,d)||r&&("length"==d||u(d,l))||t&&"constructor"==d||f.push(d);return f}var i=n(98),o=n(99),a=n(43),c=n(26),u=n(23),s=n(24);e.e=r},function(e,t,n){function r(e){for(var t=-1,n=c(e),r=i(e),u=r.length,f=o(e),l=!!f,d=f||[],p=d.length;++t<u;){var h=r[t];l&&("length"==h||a(h,p))||"constructor"==h&&(n||!s.call(e,h))||d.push(h)}return d}var i=n(100),o=n(43),a=n(23),c=n(24),u=Object.prototype,s=u.hasOwnProperty;e.e=r},function(e,t,n){function r(e,t){if("function"!=typeof e)throw new TypeError(a);return t=c(void 0===t?e.length-1:o(t),0),function(){for(var n=arguments,r=-1,o=c(n.length-t,0),a=Array(o);++r<o;)a[r]=n[t+r];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,n[0],a);case 2:return e.call(this,n[0],n[1],a)}var u=Array(t+1);for(r=-1;++r<t;)u[r]=n[r];return u[t]=a,i(e,this,u)}}var i=n(90),o=n(146),a="Expected a function",c=Math.max;e.e=r},function(e,t,n){e.e=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],Object.defineProperty(e,"exports",{enumerable:!0,configurable:!1,get:function(){return e.e},set:function(t){return e.e=t}}),Object.defineProperty(e,"loaded",{enumerable:!0,configurable:!1,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,configurable:!1,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t,n,r){function i(e){f(e),L=G.a.create(ee.decoder,k)}function o(e){var t;if("VideoStream"===ee.inputStream.type)t=document.createElement("video"),M=X.a.createVideoStream(t);else if("ImageStream"===ee.inputStream.type)M=X.a.createImageStream();else if("LiveStream"===ee.inputStream.type){var n=a();n&&(t=n.querySelector("video"),t||(t=document.createElement("video"),n.appendChild(t))),M=X.a.createLiveStream(t),W.a.request(t,ee.inputStream.constraints).then(function(){M.trigger("canrecord")})["catch"](function(t){return e(t)})}M.setAttribute("preload","auto"),M.setInputStream(ee.inputStream),M.addEventListener("canrecord",c.bind(void 0,e))}function a(){var e=ee.inputStream.target;if(e&&e.nodeName&&1===e.nodeType)return e;var t="string"==typeof e?e:"#interactive.viewport";return document.querySelector(t)}function c(e){F.a.checkImageConstraints(M,ee.locator),s(ee),j=K.a.create(M,Y.dom.image),S(ee.numOfWorkers,function(){0===ee.numOfWorkers&&i(),u(e)})}function u(e){M.play(),e()}function s(){if("undefined"!=typeof document){var e=a();if(Y.dom.image=document.querySelector("canvas.imgBuffer"),Y.dom.image||(Y.dom.image=document.createElement("canvas"),Y.dom.image.className="imgBuffer",e&&"ImageStream"===ee.inputStream.type&&e.appendChild(Y.dom.image)),Y.ctx.image=Y.dom.image.getContext("2d"),Y.dom.image.width=M.getCanvasSize().x,Y.dom.image.height=M.getCanvasSize().y,Y.dom.overlay=document.querySelector("canvas.drawingBuffer"),!Y.dom.overlay){Y.dom.overlay=document.createElement("canvas"),Y.dom.overlay.className="drawingBuffer",e&&e.appendChild(Y.dom.overlay);var t=document.createElement("br");t.setAttribute("clear","all"),e&&e.appendChild(t)}Y.ctx.overlay=Y.dom.overlay.getContext("2d"),Y.dom.overlay.width=M.getCanvasSize().x,Y.dom.overlay.height=M.getCanvasSize().y}}function f(e){k=e?e:new U.a({x:M.getWidth(),y:M.getHeight()}),N=[$.clone([0,0]),$.clone([0,k.size.y]),$.clone([k.size.x,k.size.y]),$.clone([k.size.x,0])],F.a.init(k,ee.locator)}function l(){return ee.locate?F.a.locate():[[$.clone(N[0]),$.clone(N[1]),$.clone(N[2]),$.clone(N[3])]]}function d(e){function t(e){for(var t=e.length;t--;)e[t][0]+=o,e[t][1]+=a}function n(e){e[0].x+=o,e[0].y+=a,e[1].x+=o,e[1].y+=a}var r,i=M.getTopRight(),o=i.x,a=i.y;if(0!==o||0!==a){if(e.barcodes)for(r=0;r<e.barcodes.length;r++)d(e.barcodes[r]);if(e.line&&2===e.line.length&&n(e.line),e.box&&t(e.box),e.boxes&&e.boxes.length>0)for(r=0;r<e.boxes.length;r++)t(e.boxes[r])}}function p(e,t){t&&z&&(e.barcodes?e.barcodes.filter(function(e){return e.codeResult}).forEach(function(e){return p(e,t)}):e.codeResult&&z.addResult(t,M.getCanvasSize(),e.codeResult))}function h(e){return e&&(e.barcodes?e.barcodes.some(function(e){return e.codeResult}):e.codeResult)}function v(e,t){var n=e;e&&Z&&(d(e),p(e,t),n=e.barcodes||e),B.a.publish("processed",n),h(e)&&B.a.publish("detected",n)}function m(){var e,t;t=l(),t?(e=L.decodeFromBoundingBoxes(t),e=e||{},e.boxes=t,v(e,k.data)):v()}function g(){var e;if(Z){if(Q.length>0){if(e=Q.filter(function(e){return!e.busy})[0],!e)return;j.attachData(e.imageData)}else j.attachData(k.data);j.grab()&&(e?(e.busy=!0,e.worker.postMessage({cmd:"process",imageData:e.imageData},[e.imageData.buffer])):m())}else m()}function y(){var e=null,t=1e3/(ee.frequency||60);I=!1,function n(r){e=e||r,I||(r>=e&&(e+=t,g()),window.requestAnimFrame(n))}(performance.now())}function b(){Z&&"LiveStream"===ee.inputStream.type?y():g()}function _(e){var t,n={worker:void 0,imageData:new Uint8Array(M.getWidth()*M.getHeight()),busy:!0};t=E(),n.worker=new Worker(t),n.worker.onmessage=function(r){return"initialized"===r.data.event?(URL.revokeObjectURL(t),n.busy=!1,n.imageData=new Uint8Array(r.data.imageData),e(n)):void("processed"===r.data.event?(n.imageData=new Uint8Array(r.data.imageData),n.busy=!1,v(r.data.result,n.imageData)):"error"===r.data.event)},n.worker.postMessage({cmd:"init",size:{x:M.getWidth(),y:M.getHeight()},imageData:n.imageData,config:w(ee)},[n.imageData.buffer])}function w(e){return J({},e,{inputStream:J({},e.inputStream,{target:null})})}function C(e){function t(e){self.postMessage({event:"processed",imageData:i.data,result:e},[i.data.buffer])}function n(){self.postMessage({event:"initialized",imageData:i.data},[i.data.buffer])}if(e){var r=e()["default"];if(!r)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var i;self.onmessage=function(e){if("init"===e.data.cmd){var o=e.data.config;o.numOfWorkers=0,i=new r.ImageWrapper({x:e.data.size.x,y:e.data.size.y},new Uint8Array(e.data.imageData)),r.init(o,n,i),r.onProcessed(t)}else"process"===e.data.cmd?(i.data=new Uint8Array(e.data.imageData),r.start()):"setReaders"===e.data.cmd&&r.setReaders(e.data.readers)}}function E(){var t,n;return"undefined"!=typeof e&&(n=e),t=new Blob(["("+C.toString()+")("+n+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)}function T(e){L?L.setReaders(e):Z&&Q.length>0&&Q.forEach(function(t){t.worker.postMessage({cmd:"setReaders",readers:e})})}function S(e,t){var n=e-Q.length;if(0===n)return t&&t();if(0>n){var r=Q.slice(n);return r.forEach(function(e){e.worker.terminate()}),Q=Q.slice(0,n),t&&t()}for(var i=function(n){Q.push(n),Q.length>=e&&t&&t()},o=0;n>o;o++)_(i)}var R=r(17),x=R&&R.__esModule?function(){return R["default"]}:function(){return R};Object.defineProperty(x,"a",{get:x});var O=r(54),D=O&&O.__esModule?function(){return O["default"]}:function(){return O};Object.defineProperty(D,"a",{get:D});var P=r(150),A=P&&P.__esModule?function(){return P["default"]}:function(){return P};Object.defineProperty(A,"a",{get:A});var M,j,I,k,N,L,z,U=r(19),F=r(63),G=r(57),B=r(52),W=r(59),V=r(10),H=r(50),q=r(55),X=r(62),K=r(60),J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$={clone:r(7)},Y={ctx:{image:null,overlay:null},dom:{image:null,overlay:null}},Q=[],Z=!0,ee={};n["default"]={init:function(e,t,n){return ee=x.a.bind()({},q.a,e),n?(Z=!1,i(n),t()):void o(t)},start:function(){b()},stop:function(){I=!0,S(0),"LiveStream"===ee.inputStream.type&&(W.a.release(),M.clearEventHandlers())},pause:function(){I=!0},onDetected:function(e){B.a.subscribe("detected",e)},offDetected:function(e){B.a.unsubscribe("detected",e)},onProcessed:function(e){B.a.subscribe("processed",e)},offProcessed:function(e){B.a.unsubscribe("processed",e)},setReaders:function(e){T(e)},registerResultCollector:function(e){e&&"function"==typeof e.addResult&&(z=e)},canvas:Y,decodeSingle:function(e,t){var n=this;e=x.a.bind()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:e.src},numOfWorkers:1,locator:{halfSample:!1}},e),this.init(e,function(){B.a.once("processed",function(e){n.stop(),t.call(null,e)},!0),b()})},ImageWrapper:U.a,ImageDebug:V.a,ResultCollector:H.a}},function(e,t,n){function r(e,t){return t?t.some(function(t){return Object.keys(t).every(function(n){return t[n]===e[n]})}):!1}function i(e,t){return"function"==typeof t?t(e):!0}var o=n(10);t.a={create:function(e){function t(t){return u&&t&&!r(t,e.blacklist)&&i(t,e.filter)}var n=document.createElement("canvas"),a=n.getContext("2d"),c=[],u=e.capacity||20,s=e.capture===!0;return{addResult:function(e,r,i){var f={};t(i)&&(u--,f.codeResult=i,s&&(n.width=r.x,n.height=r.y,o.a.drawImage(e,r,a),f.frame=n.toDataURL()),c.push(f))},getResults:function(){return c}}}}},function(e,t,n){var r={clone:n(7),dot:n(31)};t.a={create:function(e,t){function n(){i(e),o()}function i(e){u[e.id]=e,a.push(e)}function o(){var e,t=0;for(e=0;e<a.length;e++)t+=a[e].rad;c.rad=t/a.length,c.vec=r.clone([Math.cos(c.rad),Math.sin(c.rad)])}var a=[],c={rad:0,vec:r.clone([0,0])},u={};return n(),{add:function(e){u[e.id]||(i(e),o())},fits:function(e){var n=Math.abs(r.dot(e.point.vec,c.vec));return n>t},getPoints:function(){return a},getCenter:function(){return c}}},createPoint:function(e,t,n){return{rad:e[n],point:e,id:t}}}},function(e,t,n){t.a=function(){function e(e){return i[e]||(i[e]={subscribers:[]}),i[e]}function t(){i={}}function n(e,t){e.async?setTimeout(function(){e.callback(t)},4):e.callback(t)}function r(t,n,r){var i;if("function"==typeof n)i={callback:n,async:r};else if(i=n,!i.callback)throw"Callback was not specified on options";e(t).subscribers.push(i)}var i={};return{subscribe:function(e,t,n){return r(e,t,n)},publish:function(t,r){var i=e(t),o=i.subscribers;o.filter(function(e){return!!e.once}).forEach(function(e){n(e,r)}),i.subscribers=o.filter(function(e){return!e.once}),i.subscribers.forEach(function(e){n(e,r)})},once:function(e,t,n){r(e,{callback:t,async:n,once:!0})},unsubscribe:function(n,r){var i;n?(i=e(n),i&&r?i.subscribers=i.subscribers.filter(function(e){return e.callback!==r}):i.subscribers=[]):t()}}}()},function(e,t,n){function r(e,t,n){n||(n={data:null,size:t}),this.data=n.data,this.originalSize=n.size,this.I=n,this.from=e,this.size=t}r.prototype.show=function(e,t){var n,r,i,o,a,c,u;for(t||(t=1),n=e.getContext("2d"),e.width=this.size.x,e.height=this.size.y,r=n.getImageData(0,0,e.width,e.height),i=r.data,o=0,a=0;a<this.size.y;a++)for(c=0;c<this.size.x;c++)u=a*this.size.x+c,o=this.get(c,a)*t,i[4*u+0]=o,i[4*u+1]=o,i[4*u+2]=o,i[4*u+3]=255;r.data=i,n.putImageData(r,0,0)},r.prototype.get=function(e,t){return this.data[(this.from.y+t)*this.originalSize.x+this.from.x+e]},r.prototype.updateData=function(e){this.originalSize=e.size,this.data=e.data},r.prototype.updateFrom=function(e){return this.from=e,this},t.a=r},function(e,t){"undefined"!=typeof window&&(window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()),Math.imul=Math.imul||function(e,t){var n=e>>>16&65535,r=65535&e,i=t>>>16&65535,o=65535&t;return r*o+(n*o+r*i<<16>>>0)|0}},function(e,t,n){var r=void 0;r=n(56),t.a=r},function(e,t,n){e.e={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}}},function(e,t,n){var r=n(58),i=(n(10),n(67)),o=n(3),a=n(30),c=n(68),u=n(66),s=n(74),f=n(71),l=n(69),d=n(70),p=n(73),h=n(72),v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},m={code_128_reader:i.a,ean_reader:o.a,ean_5_reader:d.a,ean_2_reader:l.a,ean_8_reader:f.a,code_39_reader:a.a,code_39_vin_reader:c.a,codabar_reader:u.a,upc_reader:s.a,upc_e_reader:p.a,i2of5_reader:h.a};t.a={create:function(e,t){function n(){}function i(){e.readers.forEach(function(e){var t,n={},r=[];"object"===("undefined"==typeof e?"undefined":v(e))?(t=e.format,n=e.config):"string"==typeof e&&(t=e),n.supplements&&(r=n.supplements.map(function(e){return new m[e]})),p.push(new m[t](n,r))})}function o(){}function a(e,n,r){function i(t){var r={y:t*Math.sin(n),x:t*Math.cos(n)};e[0].y-=r.y,e[0].x-=r.x,e[1].y+=r.y,e[1].x+=r.x}for(i(r);r>1&&(!t.inImageWithBorder(e[0],0)||!t.inImageWithBorder(e[1],0));)r-=Math.ceil(r/2),i(-r);return e}function c(e){return[{x:(e[1][0]-e[0][0])/2+e[0][0],y:(e[1][1]-e[0][1])/2+e[0][1]},{x:(e[3][0]-e[2][0])/2+e[2][0],y:(e[3][1]-e[2][1])/2+e[2][1]}]}function u(e){var n,i=null,o=r.a.getBarcodeLine(t,e[0],e[1]);for(r.a.toBinaryLine(o),n=0;n<p.length&&null===i;n++)i=p[n].decodePattern(o.line);return null===i?null:{codeResult:i,barcodeLine:o}}function s(e,t,n){var r,i,o,a=Math.sqrt(Math.pow(e[1][0]-e[0][0],2)+Math.pow(e[1][1]-e[0][1],2)),c=16,s=null,f=Math.sin(n),l=Math.cos(n);for(r=1;c>r&&null===s;r++)i=a/c*r*(r%2===0?-1:1),o={y:i*f,x:i*l},t[0].y+=o.x,t[0].x-=o.y,t[1].y+=o.x,t[1].x-=o.y,s=u(t);return s}function f(e){return Math.sqrt(Math.pow(Math.abs(e[1].y-e[0].y),2)+Math.pow(Math.abs(e[1].x-e[0].x),2))}function l(e){var t,n,r,i;return d.ctx.overlay,t=c(e),i=f(t),n=Math.atan2(t[1].y-t[0].y,t[1].x-t[0].x),t=a(t,n,Math.floor(.1*i)),null===t?null:(r=u(t),null===r&&(r=s(e,t,n)),null===r?null:{codeResult:r.codeResult,line:t,angle:n,pattern:r.barcodeLine.line,threshold:r.barcodeLine.threshold})}var d={ctx:{frequency:null,pattern:null,overlay:null},dom:{frequency:null,pattern:null,overlay:null}},p=[];return n(),i(),o(),{decodeFromBoundingBox:function(e){return l(e)},decodeFromBoundingBoxes:function(t){var n,r,i=[],o=e.multiple;for(n=0;n<t.length;n++){var a=t[n];if(r=l(a)||{},r.box=a,o)i.push(r);else if(r.codeResult)return r}return o?{barcodes:i}:void 0},setReaders:function(t){e.readers=t,p.length=0,i()}}}}},function(e,t,n){var r=(n(19),{}),i={DIR:{UP:1,DOWN:-1}};r.getBarcodeLine=function(e,t,n){function r(e,t){l=y[t*b+e],_+=l,w=w>l?l:w,C=l>C?l:C,g.push(l)}var i,o,a,c,u,s,f,l,d=0|t.x,p=0|t.y,h=0|n.x,v=0|n.y,m=Math.abs(v-p)>Math.abs(h-d),g=[],y=e.data,b=e.size.x,_=0,w=255,C=0;for(m&&(s=d,d=p,p=s,s=h,h=v,v=s),d>h&&(s=d,d=h,h=s,s=p,p=v,v=s),i=h-d,o=Math.abs(v-p),a=i/2|0,u=p,c=v>p?1:-1,f=d;h>f;f++)m?r(u,f):r(f,u),a-=o,0>a&&(u+=c,a+=i);return{line:g,min:w,max:C}},r.toBinaryLine=function(e){var t,n,r,o,a,c,u=e.min,s=e.max,f=e.line,l=u+(s-u)/2,d=[],p=(s-u)/12,h=-p;for(r=f[0]>l?i.DIR.UP:i.DIR.DOWN,d.push({pos:0,val:f[0]}),a=0;a<f.length-2;a++)t=f[a+1]-f[a],n=f[a+2]-f[a+1],o=h>t+n&&f[a+1]<1.5*l?i.DIR.DOWN:t+n>p&&f[a+1]>.5*l?i.DIR.UP:r,r!==o&&(d.push({pos:a,val:f[a]}),r=o);for(d.push({pos:f.length,val:f[f.length-1]}),c=d[0].pos;c<d[1].pos;c++)f[c]=f[c]>l?0:1;for(a=1;a<d.length-1;a++)for(p=d[a+1].val>d[a].val?d[a].val+(d[a+1].val-d[a].val)/3*2|0:d[a+1].val+(d[a].val-d[a+1].val)/3|0,c=d[a].pos;c<d[a+1].pos;c++)f[c]=f[c]>p?0:1;return{line:f,threshold:p}},r.debug={printFrequency:function(e,t){var n,r=t.getContext("2d");for(t.width=e.length,t.height=256,r.beginPath(),r.strokeStyle="blue",n=0;n<e.length;n++)r.moveTo(n,255),r.lineTo(n,255-e[n]);r.stroke(),r.closePath()},printPattern:function(e,t){var n,r=t.getContext("2d");for(t.width=e.length,r.fillColor="black",n=0;n<e.length;n++)1===e[n]&&r.fillRect(n,0,1,100)}},t.a=r},function(e,t,n){function r(e){return new Promise(function(t,n){function r(){i>0?e.videoWidth>0&&e.videoHeight>0?t():window.setTimeout(r,500):n("Unable to play video stream. Is webcam working?"),i--}var i=10;r()})}function i(e,t){return navigator.mediaDevices.getUserMedia(t).then(function(t){return new Promise(function(n){d=t,e.setAttribute("autoplay","true"),e.srcObject=t,e.addEventListener("loadedmetadata",function(){e.play(),n()})})}).then(r.bind(null,e))}function o(e){var t=s.a.bind()(e,["width","height","facingMode","aspectRatio","deviceId"]);return"undefined"!=typeof e.minAspectRatio&&e.minAspectRatio>0&&(t.aspectRatio=e.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),"undefined"!=typeof e.facing&&(t.facingMode=e.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),t}function a(e,t){return"undefined"==typeof t.video.deviceId&&e?"undefined"!=typeof MediaStreamTrack&&"undefined"!=typeof MediaStreamTrack.getSources?new Promise(function(n){MediaStreamTrack.getSources(function(r){var i=r.filter(function(t){return"video"===t.kind&&t.facing===e})[0];return n(i?l.a.bind()({},t,{video:{deviceId:i.id}}):t)})}):Promise.resolve(l.a.bind()({},t,{video:{facingMode:e}})):Promise.resolve(t)}function c(e){var t={audio:!1,video:o(e)};return a(t.video.facingMode,t)}var u=n(145),s=u&&u.__esModule?function(){return u["default"]}:function(){return u};Object.defineProperty(s,"a",{get:s});var f=n(17),l=f&&f.__esModule?function(){return f["default"]}:function(){return f};Object.defineProperty(l,"a",{get:l});var d;t.a={request:function(e,t){return c(t).then(i.bind(null,e))},release:function(){var e=d&&d.getVideoTracks();e&&e.length&&e[0].stop(),d=null}}},function(e,t,n){var r=n(18),i={};i.create=function(e,t){var n,i={},o=e.getConfig(),a=(r.f.bind()(e.getRealWidth(),e.getRealHeight()),e.getCanvasSize()),c=r.f.bind()(e.getWidth(),e.getHeight()),u=e.getTopRight(),s=u.x,f=u.y,l=null,d=null;return n=t?t:document.createElement("canvas"),n.width=a.x,n.height=a.y,l=n.getContext("2d"),d=new Uint8Array(c.x*c.y),i.attachData=function(e){d=e},i.getData=function(){return d},i.grab=function(){var t,n=o.halfSample,i=e.getFrame();return i?(l.drawImage(i,0,0,a.x,a.y),t=l.getImageData(s,f,c.x,c.y).data,n?r.i.bind()(t,c,d):r.j.bind()(t,d,o),!0):!1},i.getSize=function(){return c},i},t.a=i},function(e,t,n){function r(e,t){e.onload=function(){t.loaded(this)}}var i={};i.load=function(e,t,n,i,o){var a,c,u,s=new Array(i),f=new Array(s.length);if(o===!1)s[0]=e;else for(a=0;a<s.length;a++)u=n+a,s[a]=e+"image-"+("00"+u).slice(-3)+".jpg";for(f.notLoaded=[],f.addImage=function(e){f.notLoaded.push(e)},f.loaded=function(e){for(var n=f.notLoaded,r=0;r<n.length;r++)if(n[r]===e){n.splice(r,1);for(var i=0;i<s.length;i++){var o=s[i].substr(s[i].lastIndexOf("/"));if(-1!==e.src.lastIndexOf(o)){f[i]=e;break}}break}0===n.length&&t.apply(null,[f])},a=0;a<s.length;a++)c=new Image,f.addImage(c),r(c,f),c.src=s[a]},t.a=i},function(e,t,n){var r=n(61),i={};i.createVideoStream=function(e){function t(){var t=e.videoWidth,i=e.videoHeight;n=o.size?t/i>1?o.size:Math.floor(t/i*o.size):t,r=o.size?t/i>1?Math.floor(i/t*o.size):o.size:i,s.x=n,s.y=r}var n,r,i={},o=null,a=["canrecord","ended"],c={},u={x:0,y:0},s={x:0,y:0};return i.getRealWidth=function(){return e.videoWidth},i.getRealHeight=function(){return e.videoHeight},i.getWidth=function(){return n},i.getHeight=function(){return r},i.setWidth=function(e){n=e},i.setHeight=function(e){r=e},i.setInputStream=function(t){o=t,e.src="undefined"!=typeof t.src?t.src:""},i.ended=function(){return e.ended},i.getConfig=function(){return o},i.setAttribute=function(t,n){e.setAttribute(t,n)},i.pause=function(){e.pause()},i.play=function(){e.play()},i.setCurrentTime=function(t){"LiveStream"!==o.type&&(e.currentTime=t)},i.addEventListener=function(t,n,r){-1!==a.indexOf(t)?(c[t]||(c[t]=[]),c[t].push(n)):e.addEventListener(t,n,r)},i.clearEventHandlers=function(){a.forEach(function(t){var n=c[t];n&&n.length>0&&n.forEach(function(n){e.removeEventListener(t,n)})})},i.trigger=function(e,n){var r,o=c[e];if("canrecord"===e&&t(),o&&o.length>0)for(r=0;r<o.length;r++)o[r].apply(i,n)},i.setTopRight=function(e){u.x=e.x,u.y=e.y},i.getTopRight=function(){return u},i.setCanvasSize=function(e){s.x=e.x,s.y=e.y},i.getCanvasSize=function(){return s},i.getFrame=function(){return e},i},i.createLiveStream=function(e){e.setAttribute("autoplay",!0);var t=i.createVideoStream(e);return t.ended=function(){return!1},t},i.createImageStream=function(){function e(){l=!1,r.a.load(v,function(e){d=e,c=e[0].width,u=e[0].height,n=a.size?c/u>1?a.size:Math.floor(c/u*a.size):c,i=a.size?c/u>1?Math.floor(u/c*a.size):a.size:u,_.x=n,_.y=i,l=!0,s=0,setTimeout(function(){t("canrecord",[])},0)},h,p,a.sequence)}function t(e,t){var n,r=y[e];if(r&&r.length>0)for(n=0;n<r.length;n++)r[n].apply(o,t)}var n,i,o={},a=null,c=0,u=0,s=0,f=!0,l=!1,d=null,p=0,h=1,v=null,m=!1,g=["canrecord","ended"],y={},b={x:0,y:0},_={x:0,y:0};return o.trigger=t,o.getWidth=function(){return n},o.getHeight=function(){return i},o.setWidth=function(e){n=e},o.setHeight=function(e){i=e},o.getRealWidth=function(){return c},o.getRealHeight=function(){return u},o.setInputStream=function(t){a=t,t.sequence===!1?(v=t.src,p=1):(v=t.src,p=t.length),e()},o.ended=function(){return m},o.setAttribute=function(){},o.getConfig=function(){return a},o.pause=function(){f=!0},o.play=function(){f=!1},o.setCurrentTime=function(e){s=e},o.addEventListener=function(e,t){-1!==g.indexOf(e)&&(y[e]||(y[e]=[]),y[e].push(t))},o.setTopRight=function(e){b.x=e.x,b.y=e.y},o.getTopRight=function(){return b},o.setCanvasSize=function(e){_.x=e.x,_.y=e.y},o.getCanvasSize=function(){return _},o.getFrame=function(){var e;return l?(f||(e=d[s],p-1>s?s++:setTimeout(function(){m=!0,t("ended",[])},0)),e):null},o},t.a=i},function(e,t,n){(function(e){function r(){var t;v=h.halfSample?new R.a({x:T.size.x/2|0,y:T.size.y/2|0}):T,E=x.b.bind()(h.patchSize,v.size),k.x=v.size.x/E.x|0,k.y=v.size.y/E.y|0,C=new R.a(v.size,void 0,Uint8Array,!1),y=new R.a(E,void 0,Array,!0),t=new ArrayBuffer(65536),g=new R.a(E,new Uint8Array(t,0,E.x*E.y)),m=new R.a(E,new Uint8Array(t,E.x*E.y*3,E.x*E.y),void 0,!0),S=A.a.bind()("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:E.x},t),w=new R.a({x:v.size.x/g.size.x|0,y:v.size.y/g.size.y|0},void 0,Array,!0),b=new R.a(w.size,void 0,void 0,!0),_=new R.a(w.size,void 0,Int32Array,!0)}function i(){h.useWorker||"undefined"==typeof document||(I.dom.binary=document.createElement("canvas"),I.dom.binary.className="binaryBuffer",I.ctx.binary=I.dom.binary.getContext("2d"),I.dom.binary.width=C.size.x,I.dom.binary.height=C.size.y)}function o(e){var t,n,r,i,o,a,c,u=C.size.x,s=C.size.y,f=-C.size.x,l=-C.size.y;for(t=0,n=0;n<e.length;n++)i=e[n],t+=i.rad;for(t/=e.length,t=(180*t/Math.PI+90)%180-90,0>t&&(t+=180),t=(180-t)*Math.PI/180,o=j.copy(j.create(),[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t)]),n=0;n<e.length;n++)for(i=e[n],r=0;4>r;r++)M.transformMat2(i.box[r],i.box[r],o);for(n=0;n<e.length;n++)for(i=e[n],r=0;4>r;r++)i.box[r][0]<u&&(u=i.box[r][0]),i.box[r][0]>f&&(f=i.box[r][0]),i.box[r][1]<s&&(s=i.box[r][1]),i.box[r][1]>l&&(l=i.box[r][1]);
for(a=[[u,s],[f,s],[f,l],[u,l]],c=h.halfSample?2:1,o=j.invert(o,o),r=0;4>r;r++)M.transformMat2(a[r],a[r],o);for(r=0;4>r;r++)M.scale(a[r],a[r],c);return a}function a(){x.c.bind()(v,C),C.zeroBorder()}function c(){var e,t,n,r,i,o,a,c=[];for(e=0;e<k.x;e++)for(t=0;t<k.y;t++)n=g.size.x*e,r=g.size.y*t,l(n,r),m.zeroBorder(),O.a.init(y.data,0),o=D.a.create(m,y),a=o.rasterize(0),i=y.moments(a.count),c=c.concat(d(i,[e,t],n,r));return c}function u(e){var t,n,r=[],i=[];for(t=0;e>t;t++)r.push(0);for(n=_.data.length;n--;)_.data[n]>0&&r[_.data[n]-1]++;return r=r.map(function(e,t){return{val:e,label:t+1}}),r.sort(function(e,t){return t.val-e.val}),i=r.filter(function(e){return e.val>=5})}function s(e,t){var n,r,i,a,c=[],u=[];for(n=0;n<e.length;n++){for(r=_.data.length,c.length=0;r--;)_.data[r]===e[n].label&&(i=w.data[r],c.push(i));a=o(c),a&&u.push(a)}return u}function f(e){var t=x.d.bind()(e,.9),n=x.e.bind()(t,1,function(e){return e.getPoints().length}),r=[],i=[];if(1===n.length){r=n[0].item.getPoints();for(var o=0;o<r.length;o++)i.push(r[o].point)}return i}function l(e,t){C.subImageAsCopy(g,x.f.bind()(e,t)),S.skeletonize()}function d(e,t,n,r){var i,o,a,c,u=[],s=[],l=Math.ceil(E.x/3);if(e.length>=2){for(i=0;i<e.length;i++)e[i].m00>l&&u.push(e[i]);if(u.length>=2){for(a=f(u),o=0,i=0;i<a.length;i++)o+=a[i].rad;a.length>1&&a.length>=u.length/4*3&&a.length>e.length/4&&(o/=a.length,c={index:t[1]*k.x+t[0],pos:{x:n,y:r},box:[M.clone([n,r]),M.clone([n+g.size.x,r]),M.clone([n+g.size.x,r+g.size.y]),M.clone([n,r+g.size.y])],moments:a,rad:o,vec:M.clone([Math.cos(o),Math.sin(o)])},s.push(c))}}return s}function p(e){function t(){var e;for(e=0;e<_.data.length;e++)if(0===_.data[e]&&1===b.data[e])return e;return _.length}function n(e){var t,r,i,c,u,s,f={x:e%_.size.x,y:e/_.size.x|0};if(e<_.data.length)for(i=w.data[e],_.data[e]=o,u=0;u<P.a.searchDirections.length;u++)r=f.y+P.a.searchDirections[u][0],t=f.x+P.a.searchDirections[u][1],c=r*_.size.x+t,0!==b.data[c]?0===_.data[c]&&(s=Math.abs(M.dot(w.data[c].vec,i.vec)),s>a&&n(c)):_.data[c]=Number.MAX_VALUE}var r,i,o=0,a=.95,c=0;for(O.a.init(b.data,0),O.a.init(_.data,0),O.a.init(w.data,null),r=0;r<e.length;r++)i=e[r],w.data[i.index]=i,b.data[i.index]=1;for(b.zeroBorder();(c=t())<_.data.length;)o++,n(c);return o}var h,v,m,g,y,b,_,w,C,E,T,S,R=n(19),x=n(18),O=n(9),D=(n(10),n(64)),P=n(29),A=n(65),M={clone:n(7),dot:n(31),scale:n(78),transformMat2:n(79)},j={copy:n(75),create:n(76),invert:n(77)},I={ctx:{binary:null},dom:{binary:null}},k={x:0,y:0};t.a={init:function(e,t){h=t,T=e,r(),i()},locate:function(){var e,t,n;if(h.halfSample&&x.g.bind()(T,v),a(),e=c(),e.length<k.x*k.y*.05)return null;var r=p(e);return 1>r?null:(t=u(r),0===t.length?null:n=s(t,r))},checkImageConstraints:function(e,t){var n,r,i,o=e.getWidth(),a=e.getHeight(),c=t.halfSample?.5:1;if(e.getConfig().area&&(i=x.h.bind()(o,a,e.getConfig().area),e.setTopRight({x:i.sx,y:i.sy}),e.setCanvasSize({x:o,y:a}),o=i.sw,a=i.sh),r={x:Math.floor(o*c),y:Math.floor(a*c)},n=x.b.bind()(t.patchSize,r),e.setWidth(Math.floor(Math.floor(r.x/n.x)*(1/c)*n.x)),e.setHeight(Math.floor(Math.floor(r.y/n.y)*(1/c)*n.y)),e.getWidth()%n.x===0&&e.getHeight()%n.y===0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width ("+o+" )and height ("+a+") must a multiple of "+n.x)}}}).call(t,function(){return this}())},function(e,t,n){var r=n(29),i={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(e,t){var n=e.data,o=t.data,a=e.size.x,c=e.size.y,u=r.a.create(e,t);return{rasterize:function(e){var t,r,s,f,l,d,p,h,v,m,g,y,b=[],_=0;for(y=0;400>y;y++)b[y]=0;for(b[0]=n[0],v=null,d=1;c-1>d;d++)for(f=0,r=b[0],l=1;a-1>l;l++)if(g=d*a+l,0===o[g])if(t=n[g],t!==r){if(0===f)s=_+1,b[s]=t,r=t,p=u.contourTracing(d,l,s,t,i.DIR.OUTSIDE_EDGE),null!==p&&(_++,f=s,h=i.createContour2D(),h.dir=i.CONTOUR_DIR.CW_DIR,h.index=f,h.firstVertex=p,h.nextpeer=v,h.insideContours=null,null!==v&&(v.prevpeer=h),v=h);else if(p=u.contourTracing(d,l,i.DIR.INSIDE_EDGE,t,f),null!==p){for(h=i.createContour2D(),h.firstVertex=p,h.insideContours=null,0===e?h.dir=i.CONTOUR_DIR.CCW_DIR:h.dir=i.CONTOUR_DIR.CW_DIR,h.index=e,m=v;null!==m&&m.index!==f;)m=m.nextpeer;null!==m&&(h.nextpeer=m.insideContours,null!==m.insideContours&&(m.insideContours.prevpeer=h),m.insideContours=h)}}else o[g]=f;else o[g]===i.DIR.OUTSIDE_EDGE||o[g]===i.DIR.INSIDE_EDGE?(f=0,r=o[g]===i.DIR.INSIDE_EDGE?n[g]:b[0]):(f=o[g],r=b[f]);for(m=v;null!==m;)m.index=e,m=m.nextpeer;return{cc:v,count:_}},debug:{drawContour:function(e,t){var n,r,o,a=e.getContext("2d"),c=t;for(a.strokeStyle="red",a.fillStyle="red",a.lineWidth=1,n=null!==c?c.insideContours:null;null!==c;){switch(null!==n?(r=n,n=n.nextpeer):(r=c,c=c.nextpeer,n=null!==c?c.insideContours:null),r.dir){case i.CONTOUR_DIR.CW_DIR:a.strokeStyle="red";break;case i.CONTOUR_DIR.CCW_DIR:a.strokeStyle="blue";break;case i.CONTOUR_DIR.UNKNOWN_DIR:a.strokeStyle="green"}o=r.firstVertex,a.beginPath(),a.moveTo(o.x,o.y);do o=o.next,a.lineTo(o.x,o.y);while(o!==r.firstVertex);a.stroke()}}}}}};t.a=i},function(e,t,n){function r(e,t,n){"use asm";var r=new e.Uint8Array(n),i=t.size|0,o=e.Math.imul;function a(e,t){e=e|0;t=t|0;var n=0,o=0,a=0,c=0,u=0,s=0,f=0,l=0;for(n=1;(n|0)<(i-1|0);n=n+1|0){l=l+i|0;for(o=1;(o|0)<(i-1|0);o=o+1|0){c=l-i|0;u=l+i|0;s=o-1|0;f=o+1|0;a=(r[e+c+s|0]|0)+(r[e+c+f|0]|0)+(r[e+l+o|0]|0)+(r[e+u+s|0]|0)+(r[e+u+f|0]|0)|0;if((a|0)==(5|0)){r[t+l+o|0]=1}else{r[t+l+o|0]=0}}}return}function c(e,t,n){e=e|0;t=t|0;n=n|0;var a=0;a=o(i,i)|0;while((a|0)>0){a=a-1|0;r[n+a|0]=(r[e+a|0]|0)-(r[t+a|0]|0)|0}}function u(e,t,n){e=e|0;t=t|0;n=n|0;var a=0;a=o(i,i)|0;while((a|0)>0){a=a-1|0;r[n+a|0]=r[e+a|0]|0|(r[t+a|0]|0)|0}}function s(e){e=e|0;var t=0,n=0;n=o(i,i)|0;while((n|0)>0){n=n-1|0;t=(t|0)+(r[e+n|0]|0)|0}return t|0}function f(e,t){e=e|0;t=t|0;var n=0;n=o(i,i)|0;while((n|0)>0){n=n-1|0;r[e+n|0]=t}}function l(e,t){e=e|0;t=t|0;var n=0,o=0,a=0,c=0,u=0,s=0,f=0,l=0;for(n=1;(n|0)<(i-1|0);n=n+1|0){l=l+i|0;for(o=1;(o|0)<(i-1|0);o=o+1|0){c=l-i|0;u=l+i|0;s=o-1|0;f=o+1|0;a=(r[e+c+s|0]|0)+(r[e+c+f|0]|0)+(r[e+l+o|0]|0)+(r[e+u+s|0]|0)+(r[e+u+f|0]|0)|0;if((a|0)>(0|0)){r[t+l+o|0]=1}else{r[t+l+o|0]=0}}}return}function d(e,t){e=e|0;t=t|0;var n=0;n=o(i,i)|0;while((n|0)>0){n=n-1|0;r[t+n|0]=r[e+n|0]|0}}function p(e){e=e|0;var t=0,n=0;for(t=0;(t|0)<(i-1|0);t=t+1|0){r[e+t|0]=0;r[e+n|0]=0;n=n+i-1|0;r[e+n|0]=0;n=n+1|0}for(t=0;(t|0)<(i|0);t=t+1|0){r[e+n|0]=0;n=n+1|0}}function h(){var e=0,t=0,n=0,r=0,h=0,v=0;t=o(i,i)|0;n=t+t|0;r=n+t|0;f(r,0);p(e);do{a(e,t);l(t,n);c(e,n,n);u(r,n,r);d(t,e);h=s(e)|0;v=(h|0)==0|0}while(!v)}return{skeletonize:h}}t.a=r},function(e,t,n){function r(){i.a.call(this),this._counters=[]}var i=n(6),o={ALPHABETH_STRING:{value:"0123456789-$:/.+ABCD"},ALPHABET:{value:[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68]},CHARACTER_ENCODINGS:{value:[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14]},START_END:{value:[26,41,11,14]},MIN_ENCODED_CHARS:{value:4},MAX_ACCEPTABLE:{value:2},PADDING:{value:1.5},FORMAT:{value:"codabar",writeable:!1}};r.prototype=Object.create(i.a.prototype,o),r.prototype.constructor=r,r.prototype._decode=function(){var e,t,n,r,i,o=this,a=[];if(this._counters=o._fillCounters(),e=o._findStart(),!e)return null;r=e.startCounter;do{if(n=o._toPattern(r),0>n)return null;if(t=o._patternToChar(n),0>t)return null;if(a.push(t),r+=8,a.length>1&&o._isStartEnd(n))break}while(r<o._counters.length);return a.length-2<o.MIN_ENCODED_CHARS||!o._isStartEnd(n)?null:o._verifyWhitespace(e.startCounter,r-8)&&o._validateResult(a,e.startCounter)?(r=r>o._counters.length?o._counters.length:r,i=e.start+o._sumCounters(e.startCounter,r-8),{code:a.join(""),start:e.start,end:i,startInfo:e,decodedCodes:a}):null},r.prototype._verifyWhitespace=function(e,t){return(0>=e-1||this._counters[e-1]>=this._calculatePatternLength(e)/2)&&(t+8>=this._counters.length||this._counters[t+7]>=this._calculatePatternLength(t)/2)},r.prototype._calculatePatternLength=function(e){var t,n=0;for(t=e;e+7>t;t++)n+=this._counters[t];return n},r.prototype._thresholdResultPattern=function(e,t){var n,r,i,o,a,c=this,u={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},s=t;for(i=0;i<e.length;i++){for(a=c._charToPattern(e[i]),o=6;o>=0;o--)n=2===(1&o)?u.bar:u.space,r=1===(1&a)?n.wide:n.narrow,r.size+=c._counters[s+o],r.counts++,a>>=1;s+=8}return["space","bar"].forEach(function(e){var t=u[e];t.wide.min=Math.floor((t.narrow.size/t.narrow.counts+t.wide.size/t.wide.counts)/2),t.narrow.max=Math.ceil(t.wide.min),t.wide.max=Math.ceil((t.wide.size*c.MAX_ACCEPTABLE+c.PADDING)/t.wide.counts)}),u},r.prototype._charToPattern=function(e){var t,n=this,r=e.charCodeAt(0);for(t=0;t<n.ALPHABET.length;t++)if(n.ALPHABET[t]===r)return n.CHARACTER_ENCODINGS[t];return 0},r.prototype._validateResult=function(e,t){var n,r,i,o,a,c,u=this,s=u._thresholdResultPattern(e,t),f=t;for(n=0;n<e.length;n++){for(c=u._charToPattern(e[n]),r=6;r>=0;r--){if(i=0===(1&r)?s.bar:s.space,o=1===(1&c)?i.wide:i.narrow,a=u._counters[f+r],a<o.min||a>o.max)return!1;c>>=1}f+=8}return!0},r.prototype._patternToChar=function(e){var t,n=this;for(t=0;t<n.CHARACTER_ENCODINGS.length;t++)if(n.CHARACTER_ENCODINGS[t]===e)return String.fromCharCode(n.ALPHABET[t]);return-1},r.prototype._computeAlternatingThreshold=function(e,t){var n,r,i=Number.MAX_VALUE,o=0;for(n=e;t>n;n+=2)r=this._counters[n],r>o&&(o=r),i>r&&(i=r);return(i+o)/2|0},r.prototype._toPattern=function(e){var t,n,r,i,o=7,a=e+o,c=1<<o-1,u=0;if(a>this._counters.length)return-1;for(t=this._computeAlternatingThreshold(e,a),n=this._computeAlternatingThreshold(e+1,a),r=0;o>r;r++)i=0===(1&r)?t:n,this._counters[e+r]>i&&(u|=c),c>>=1;return u},r.prototype._isStartEnd=function(e){var t;for(t=0;t<this.START_END.length;t++)if(this.START_END[t]===e)return!0;return!1},r.prototype._sumCounters=function(e,t){var n,r=0;for(n=e;t>n;n++)r+=this._counters[n];return r},r.prototype._findStart=function(){var e,t,n,r=this,i=r._nextUnset(r._row);for(e=1;e<this._counters.length;e++)if(t=r._toPattern(e),-1!==t&&r._isStartEnd(t))return i+=r._sumCounters(0,e),n=i+r._sumCounters(e,e+8),{start:i,end:n,startCounter:e,endCounter:e+8}},t.a=r},function(e,t,n){function r(){o.a.call(this)}function i(e,t,n){for(var r=n.length,i=0,o=0;r--;)o+=e[n[r]],i+=t[n[r]];return o/i}var o=n(6),a={CODE_SHIFT:{value:98},CODE_C:{value:99},CODE_B:{value:100},CODE_A:{value:101},START_CODE_A:{value:103},START_CODE_B:{value:104},START_CODE_C:{value:105},STOP_CODE:{value:106},CODE_PATTERN:{value:[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]},SINGLE_CODE_ERROR:{value:.64},AVG_CODE_ERROR:{value:.3},FORMAT:{value:"code_128",writeable:!1},MODULE_INDICES:{value:{bar:[0,2,4],space:[1,3,5]}}};r.prototype=Object.create(o.a.prototype,a),r.prototype.constructor=r,r.prototype._decodeCode=function(e,t){var n,r,o,a=[0,0,0,0,0,0],c=this,u=e,s=!c._row[u],f=0,l={error:Number.MAX_VALUE,code:-1,start:e,end:e,correction:{bar:1,space:1}};for(n=u;n<c._row.length;n++)if(c._row[n]^s)a[f]++;else{if(f===a.length-1){for(t&&c._correct(a,t),r=0;r<c.CODE_PATTERN.length;r++)o=c._matchPattern(a,c.CODE_PATTERN[r]),o<l.error&&(l.code=r,l.error=o);return l.end=n,-1===l.code||l.error>c.AVG_CODE_ERROR?null:(c.CODE_PATTERN[l.code]&&(l.correction.bar=i(c.CODE_PATTERN[l.code],a,this.MODULE_INDICES.bar),l.correction.space=i(c.CODE_PATTERN[l.code],a,this.MODULE_INDICES.space)),l)}f++,a[f]=1,s=!s}return null},r.prototype._correct=function(e,t){this._correctBars(e,t.bar,this.MODULE_INDICES.bar),this._correctBars(e,t.space,this.MODULE_INDICES.space)},r.prototype._findStart=function(){var e,t,n,r,o,a=[0,0,0,0,0,0],c=this,u=c._nextSet(c._row),s=!1,f=0,l={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}};for(e=u;e<c._row.length;e++)if(c._row[e]^s)a[f]++;else{if(f===a.length-1){for(o=0,r=0;r<a.length;r++)o+=a[r];for(t=c.START_CODE_A;t<=c.START_CODE_C;t++)n=c._matchPattern(a,c.CODE_PATTERN[t]),n<l.error&&(l.code=t,l.error=n);if(l.error<c.AVG_CODE_ERROR)return l.start=e-o,l.end=e,l.correction.bar=i(c.CODE_PATTERN[l.code],a,this.MODULE_INDICES.bar),l.correction.space=i(c.CODE_PATTERN[l.code],a,this.MODULE_INDICES.space),l;for(r=0;4>r;r++)a[r]=a[r+2];a[4]=0,a[5]=0,f--}else f++;a[f]=1,s=!s}return null},r.prototype._decode=function(){var e,t,n=this,r=n._findStart(),i=null,o=!1,a=[],c=0,u=0,s=[],f=[],l=!1,d=!0;if(null===r)return null;switch(i={code:r.code,start:r.start,end:r.end,correction:{bar:r.correction.bar,space:r.correction.space}},f.push(i),u=i.code,i.code){case n.START_CODE_A:e=n.CODE_A;break;case n.START_CODE_B:e=n.CODE_B;break;case n.START_CODE_C:e=n.CODE_C;break;default:return null}for(;!o;){if(t=l,l=!1,i=n._decodeCode(i.end,i.correction),null!==i)switch(i.code!==n.STOP_CODE&&(d=!0),i.code!==n.STOP_CODE&&(s.push(i.code),c++,u+=c*i.code),f.push(i),e){case n.CODE_A:if(i.code<64)a.push(String.fromCharCode(32+i.code));else if(i.code<96)a.push(String.fromCharCode(i.code-64));else switch(i.code!==n.STOP_CODE&&(d=!1),i.code){case n.CODE_SHIFT:l=!0,e=n.CODE_B;break;case n.CODE_B:e=n.CODE_B;break;case n.CODE_C:e=n.CODE_C;break;case n.STOP_CODE:o=!0}break;case n.CODE_B:if(i.code<96)a.push(String.fromCharCode(32+i.code));else switch(i.code!==n.STOP_CODE&&(d=!1),i.code){case n.CODE_SHIFT:l=!0,e=n.CODE_A;break;case n.CODE_A:e=n.CODE_A;break;case n.CODE_C:e=n.CODE_C;break;case n.STOP_CODE:o=!0}break;case n.CODE_C:if(i.code<100)a.push(i.code<10?"0"+i.code:i.code);else switch(i.code!==n.STOP_CODE&&(d=!1),i.code){case n.CODE_A:e=n.CODE_A;break;case n.CODE_B:e=n.CODE_B;break;case n.STOP_CODE:o=!0}}else o=!0;t&&(e=e===n.CODE_A?n.CODE_B:n.CODE_A)}return null===i?null:(i.end=n._nextUnset(n._row,i.end),n._verifyTrailingWhitespace(i)?(u-=c*s[s.length-1],u%103!==s[s.length-1]?null:a.length?(d&&a.splice(a.length-1,1),{code:a.join(""),start:r.start,end:i.end,codeset:e,startInfo:r,decodedCodes:f,endInfo:i}):null):null)},o.a.prototype._verifyTrailingWhitespace=function(e){var t,n=this;return t=e.end+(e.end-e.start)/2,t<n._row.length&&n._matchRange(e.end,t,0)?e:null},t.a=r},function(e,t,n){function r(){i.a.call(this)}var i=n(30),o={IOQ:/[IOQ]/g,AZ09:/[A-Z0-9]{17}/};r.prototype=Object.create(i.a.prototype),r.prototype.constructor=r,r.prototype._decode=function(){var e=i.a.prototype._decode.apply(this);if(!e)return null;var t=e.code;return t?(t=t.replace(o.IOQ,""),t.match(o.AZ09)&&this._checkChecksum(t)?(e.code=t,e):null):null},r.prototype._checkChecksum=function(e){return!!e},t.a=r},function(e,t,n){function r(){i.a.call(this)}var i=n(3),o={FORMAT:{value:"ean_2",writeable:!1}};r.prototype=Object.create(i.a.prototype,o),r.prototype.constructor=r,r.prototype.decode=function(e,t){this._row=e;var n,r=0,i=0,o=t,a=this._row.length,c=[],u=[];for(i=0;2>i&&a>o;i++){if(n=this._decodeCode(o),!n)return null;u.push(n),c.push(n.code%10),n.code>=this.CODE_G_START&&(r|=1<<1-i),1!=i&&(o=this._nextSet(this._row,n.end),o=this._nextUnset(this._row,o))}return 2!=c.length||parseInt(c.join(""))%4!==r?null:{code:c.join(""),decodedCodes:u,end:n.end}},t.a=r},function(e,t,n){function r(){a.a.call(this)}function i(e){var t;for(t=0;10>t;t++)if(e===u[t])return t;return null}function o(e){var t,n=e.length,r=0;for(t=n-2;t>=0;t-=2)r+=e[t];for(r*=3,t=n-1;t>=0;t-=2)r+=e[t];return r*=3,r%10}var a=n(3),c={FORMAT:{value:"ean_5",writeable:!1}},u=[24,20,18,17,12,6,3,10,9,5];r.prototype=Object.create(a.a.prototype,c),r.prototype.constructor=r,r.prototype.decode=function(e,t){this._row=e;var n,r=0,a=0,c=t,u=this._row.length,s=[],f=[];for(a=0;5>a&&u>c;a++){if(n=this._decodeCode(c),!n)return null;f.push(n),s.push(n.code%10),n.code>=this.CODE_G_START&&(r|=1<<4-a),4!=a&&(c=this._nextSet(this._row,n.end),c=this._nextUnset(this._row,c))}return 5!=s.length?null:o(s)!==i(r)?null:{code:s.join(""),decodedCodes:f,end:n.end}},t.a=r},function(e,t,n){function r(e,t){i.a.call(this,e,t)}var i=n(3),o={FORMAT:{value:"ean_8",writeable:!1}};r.prototype=Object.create(i.a.prototype,o),r.prototype.constructor=r,r.prototype._decodePayload=function(e,t,n){var r,i=this;for(r=0;4>r;r++){if(e=i._decodeCode(e.end,i.CODE_G_START),!e)return null;t.push(e.code),n.push(e)}if(e=i._findPattern(i.MIDDLE_PATTERN,e.end,!0,!1),null===e)return null;for(n.push(e),r=0;4>r;r++){if(e=i._decodeCode(e.end,i.CODE_G_START),!e)return null;n.push(e),t.push(e.code)}return e},t.a=r},function(e,t,n){function r(e){e=a.a.bind()(i(),e),c.a.call(this,e),this.barSpaceRatio=[1,1],e.normalizeBarSpaceWidth&&(this.SINGLE_CODE_ERROR=.38,this.AVG_CODE_ERROR=.09)}function i(){var e={};return Object.keys(r.CONFIG_KEYS).forEach(function(t){e[t]=r.CONFIG_KEYS[t]["default"]}),e}var o=n(17),a=o&&o.__esModule?function(){return o["default"]}:function(){return o};Object.defineProperty(a,"a",{get:a});var c=n(6),u=1,s=3,f={START_PATTERN:{value:[u,u,u,u]},STOP_PATTERN:{value:[u,u,s]},CODE_PATTERN:{value:[[u,u,s,s,u],[s,u,u,u,s],[u,s,u,u,s],[s,s,u,u,u],[u,u,s,u,s],[s,u,s,u,u],[u,s,s,u,u],[u,u,u,s,s],[s,u,u,s,u],[u,s,u,s,u]]},SINGLE_CODE_ERROR:{value:.78,writable:!0},AVG_CODE_ERROR:{value:.38,writable:!0},MAX_CORRECTION_FACTOR:{value:5},FORMAT:{value:"i2of5"}};r.prototype=Object.create(c.a.prototype,f),r.prototype.constructor=r,r.prototype._matchPattern=function(e,t){if(this.config.normalizeBarSpaceWidth){var n,r=[0,0],i=[0,0],o=[0,0],a=this.MAX_CORRECTION_FACTOR,u=1/a;for(n=0;n<e.length;n++)r[n%2]+=e[n],i[n%2]+=t[n];for(o[0]=i[0]/r[0],o[1]=i[1]/r[1],o[0]=Math.max(Math.min(o[0],a),u),o[1]=Math.max(Math.min(o[1],a),u),this.barSpaceRatio=o,n=0;n<e.length;n++)e[n]*=this.barSpaceRatio[n%2]}return c.a.prototype._matchPattern.call(this,e,t)},r.prototype._findPattern=function(e,t,n,r){var i,o,a,c,u=[],s=this,f=0,l={error:Number.MAX_VALUE,code:-1,start:0,end:0},d=s.AVG_CODE_ERROR;for(n=n||!1,r=r||!1,t||(t=s._nextSet(s._row)),i=0;i<e.length;i++)u[i]=0;for(i=t;i<s._row.length;i++)if(s._row[i]^n)u[f]++;else{if(f===u.length-1){for(c=0,a=0;a<u.length;a++)c+=u[a];if(o=s._matchPattern(u,e),d>o)return l.error=o,l.start=i-c,l.end=i,l;if(!r)return null;for(a=0;a<u.length-2;a++)u[a]=u[a+2];u[u.length-2]=0,u[u.length-1]=0,f--}else f++;u[f]=1,n=!n}return null},r.prototype._findStart=function(){for(var e,t,n=this,r=n._nextSet(n._row),i=1;!t;){if(t=n._findPattern(n.START_PATTERN,r,!1,!0),!t)return null;if(i=Math.floor((t.end-t.start)/4),e=t.start-10*i,e>=0&&n._matchRange(e,t.start,0))return t;r=t.end,t=null}},r.prototype._verifyTrailingWhitespace=function(e){var t,n=this;return t=e.end+(e.end-e.start)/2,t<n._row.length&&n._matchRange(e.end,t,0)?e:null},r.prototype._findEnd=function(){var e,t,n=this;return n._row.reverse(),e=n._findPattern(n.STOP_PATTERN),n._row.reverse(),null===e?null:(t=e.start,e.start=n._row.length-e.end,e.end=n._row.length-t,null!==e?n._verifyTrailingWhitespace(e):null)},r.prototype._decodePair=function(e){var t,n,r=[],i=this;for(t=0;t<e.length;t++){if(n=i._decodeCode(e[t]),!n)return null;r.push(n)}return r},r.prototype._decodeCode=function(e){var t,n,r,i=this,o=0,a=i.AVG_CODE_ERROR,c={error:Number.MAX_VALUE,code:-1,start:0,end:0};for(t=0;t<e.length;t++)o+=e[t];for(r=0;r<i.CODE_PATTERN.length;r++)n=i._matchPattern(e,i.CODE_PATTERN[r]),n<c.error&&(c.code=r,c.error=n);return c.error<a?c:void 0},r.prototype._decodePayload=function(e,t,n){for(var r,i,o=this,a=0,c=e.length,u=[[0,0,0,0,0],[0,0,0,0,0]];c>a;){for(r=0;5>r;r++)u[0][r]=e[a]*this.barSpaceRatio[0],u[1][r]=e[a+1]*this.barSpaceRatio[1],a+=2;if(i=o._decodePair(u),!i)return null;for(r=0;r<i.length;r++)t.push(i[r].code+""),n.push(i[r])}return i},r.prototype._verifyCounterLength=function(e){return e.length%10===0},r.prototype._decode=function(){var e,t,n,r,i=this,o=[],a=[];return(e=i._findStart())?(a.push(e),(t=i._findEnd())?(r=i._fillCounters(e.end,t.start,!1),i._verifyCounterLength(r)&&(n=i._decodePayload(r,o,a))?o.length%2!==0||o.length<6?null:(a.push(t),{code:o.join(""),start:e.start,end:t.end,startInfo:e,decodedCodes:a}):null):null):null},r.CONFIG_KEYS={normalizeBarSpaceWidth:{type:"boolean","default":!1,description:"If true, the reader tries to normalize thewidth-difference between bars and spaces"}},t.a=r},function(e,t,n){function r(e,t){i.a.call(this,e,t)}var i=n(3),o={CODE_FREQUENCY:{value:[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]},STOP_PATTERN:{value:[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]},FORMAT:{value:"upc_e",writeable:!1}};r.prototype=Object.create(i.a.prototype,o),r.prototype.constructor=r,r.prototype._decodePayload=function(e,t,n){var r,i=this,o=0;for(r=0;6>r;r++){if(e=i._decodeCode(e.end),!e)return null;e.code>=i.CODE_G_START&&(e.code=e.code-i.CODE_G_START,o|=1<<5-r),t.push(e.code),n.push(e)}return i._determineParity(o,t)?e:null},r.prototype._determineParity=function(e,t){var n,r;for(r=0;r<this.CODE_FREQUENCY.length;r++)for(n=0;n<this.CODE_FREQUENCY[r].length;n++)if(e===this.CODE_FREQUENCY[r][n])return t.unshift(r),t.push(n),!0;return!1},r.prototype._convertToUPCA=function(e){var t=[e[0]],n=e[e.length-2];return t=2>=n?t.concat(e.slice(1,3)).concat([n,0,0,0,0]).concat(e.slice(3,6)):3===n?t.concat(e.slice(1,4)).concat([0,0,0,0,0]).concat(e.slice(4,6)):4===n?t.concat(e.slice(1,5)).concat([0,0,0,0,0,e[5]]):t.concat(e.slice(1,6)).concat([0,0,0,0,n]),t.push(e[e.length-1]),t},r.prototype._checksum=function(e){return i.a.prototype._checksum.call(this,this._convertToUPCA(e))},r.prototype._findEnd=function(e,t){return t=!0,i.a.prototype._findEnd.call(this,e,t)},r.prototype._verifyTrailingWhitespace=function(e){var t,n=this;return t=e.end+(e.end-e.start)/2,t<n._row.length&&n._matchRange(e.end,t,0)?e:void 0},t.a=r},function(e,t,n){function r(e,t){i.a.call(this,e,t)}var i=n(3),o={FORMAT:{value:"upc_a",writeable:!1}};r.prototype=Object.create(i.a.prototype,o),r.prototype.constructor=r,r.prototype._decode=function(){var e=i.a.prototype._decode.call(this);return e&&e.code&&13===e.code.length&&"0"===e.code.charAt(0)?(e.code=e.code.substring(1),e):null},t.a=r},function(e,t,n){function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}e.e=r},function(e,t,n){function r(){var e=new Float32Array(4);return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e}e.e=r},function(e,t,n){function r(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n*o-i*r;return a?(a=1/a,e[0]=o*a,e[1]=-r*a,e[2]=-i*a,e[3]=n*a,e):null}e.e=r},function(e,t,n){function r(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e}e.e=r},function(e,t,n){function r(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[2]*i,e[1]=n[1]*r+n[3]*i,e}e.e=r},function(e,t,n){function r(e){var t=new Float32Array(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.e=r},function(e,t,n){function r(){}var i=n(14),o=Object.prototype;r.prototype=i?i(null):o,e.e=r},function(e,t,n){function r(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(128),o=n(129),a=n(130),c=n(131),u=n(132);r.prototype.clear=i,r.prototype["delete"]=o,r.prototype.get=a,r.prototype.has=c,r.prototype.set=u,e.e=r},function(e,t,n){var r=n(1),i=r.Reflect;e.e=i},function(e,t,n){var r=n(12),i=n(1),o=r(i,"Set");e.e=o},function(e,t,n){var r=n(1),i=r.Symbol;e.e=i},function(e,t,n){var r=n(1),i=r.Uint8Array;e.e=i},function(e,t,n){var r=n(12),i=n(1),o=r(i,"WeakMap");e.e=o},function(e,t,n){function r(e,t){return e.set(t[0],t[1]),e}e.e=r},function(e,t,n){function r(e,t){return e.add(t),e}e.e=r},function(e,t,n){function r(e,t,n){var r=n.length;switch(r){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.e=r},function(e,t,n){function r(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.e=r},function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(21),o=n(45);e.e=r},function(e,t,n){function r(e,t,n,w,C,E,T){var x;if(w&&(x=E?w(e,C,E,T):w(e)),void 0!==x)return x;if(!b(e))return e;var O=m(e);if(O){if(x=p(e),!t)return f(e,x)}else{var P=d(e),A=P==S||P==R;if(g(e))return s(e,t);if(P==D||P==_||A&&!E){if(y(e))return E?e:{};if(x=v(A?{}:e),!t)return x=c(x,e),n?l(e,x):x}else{if(!H[P])return E?e:{};x=h(e,P,t)}}T||(T=new i);var M=T.get(e);return M?M:(T.set(e,x),(O?o:u)(e,function(i,o){a(x,o,r(i,t,n,w,o,e,T))}),n&&!O?l(e,x):x)}var i=n(32),o=n(33),a=n(35),c=n(92),u=n(97),s=n(107),f=n(41),l=n(114),d=n(119),p=n(123),h=n(124),v=n(125),m=n(5),g=n(141),y=n(22),b=n(2),_="[object Arguments]",w="[object Array]",C="[object Boolean]",E="[object Date]",T="[object Error]",S="[object Function]",R="[object GeneratorFunction]",x="[object Map]",O="[object Number]",D="[object Object]",P="[object RegExp]",A="[object Set]",M="[object String]",j="[object Symbol]",I="[object WeakMap]",k="[object ArrayBuffer]",N="[object Float32Array]",L="[object Float64Array]",z="[object Int8Array]",U="[object Int16Array]",F="[object Int32Array]",G="[object Uint8Array]",B="[object Uint8ClampedArray]",W="[object Uint16Array]",V="[object Uint32Array]",H={};H[_]=H[w]=H[k]=H[C]=H[E]=H[N]=H[L]=H[z]=H[U]=H[F]=H[x]=H[O]=H[D]=H[P]=H[A]=H[M]=H[j]=H[G]=H[B]=H[W]=H[V]=!0,H[T]=H[S]=H[I]=!1,e.e=r},function(e,t,n){function r(e){return i(e)?o(e):{}}var i=n(2),o=Object.create;e.e=r},function(e,t,n){function r(e,t,n,u){u||(u=[]);for(var s=-1,f=e.length;++s<f;){var l=e[s];t>0&&c(l)&&(n||a(l)||o(l))?t>1?r(l,t-1,n,u):i(u,l):n||(u[u.length]=l)}return u}var i=n(91),o=n(25),a=n(5),c=n(27);e.e=r},function(e,t,n){var r=n(116),i=r();e.e=i},function(e,t,n){function r(e,t){return e&&i(e,t,o)}var i=n(96),o=n(45);e.e=r},function(e,t,n){function r(e,t){return o.call(e,t)||"object"==typeof e&&t in e&&null===a(e)}var i=Object.prototype,o=i.hasOwnProperty,a=Object.getPrototypeOf;e.e=r},function(e,t,n){function r(e){return i(Object(e))}var i=Object.keys;e.e=r},function(e,t,n){function r(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}var i=n(83),o=n(127),a=Object.prototype,c=i?i.enumerate:void 0,u=a.propertyIsEnumerable;c&&!u.call({valueOf:1},"valueOf")&&(r=function(e){return o(c(e))}),e.e=r},function(e,t,n){function r(e,t,n,d,p){if(e!==t){var h=u(t)||f(t)?void 0:l(t);o(h||t,function(o,u){if(h&&(u=o,o=t[u]),s(o))p||(p=new i),c(e,t,u,n,r,d,p);else{var f=d?d(e[u],o,u+"",e,t,p):void 0;void 0===f&&(f=o),a(e,u,f)}})}}var i=n(32),o=n(33),a=n(34),c=n(102),u=n(5),s=n(2),f=n(44),l=n(46);e.e=r},function(e,t,n){function r(e,t,n,r,v,m,g){var y=e[n],b=t[n],_=g.get(b);if(_)return void i(e,n,_);var w=m?m(y,b,n+"",e,t,g):void 0,C=void 0===w;C&&(w=b,u(b)||p(b)?u(y)?w=y:s(y)?w=a(y):(C=!1,w=o(b,!m)):d(b)||c(b)?c(y)?w=h(y):!l(y)||r&&f(y)?(C=!1,w=o(b,!m)):w=y:C=!1),g.set(b,w),C&&v(w,b,r,m,g),g["delete"](b),i(e,n,w)}var i=n(34),o=n(93),a=n(41),c=n(25),u=n(5),s=n(27),f=n(16),l=n(2),d=n(143),p=n(44),h=n(148);e.e=r},function(e,t,n){function r(e,t){return e=Object(e),i(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}var i=n(20);e.e=r},function(e,t,n){function r(e){return function(t){return null==t?void 0:t[e]}}e.e=r},function(e,t,n){function r(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.e=r},function(e,t,n){function r(e){return e&&e.Object===Object?e:null}e.e=r},function(e,t,n){function r(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}e.e=r},function(e,t,n){function r(e){return o(a(e),i,new e.constructor)}var i=n(88),o=n(20),a=n(133);e.e=r},function(e,t,n){function r(e){var t=new e.constructor(e.source,i.exec(e));return t.lastIndex=e.lastIndex,t}var i=/\w*$/;e.e=r},function(e,t,n){function r(e){return o(a(e),i,new e.constructor)}var i=n(89),o=n(20),a=n(134);e.e=r},function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var i=n(85),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.e=r},function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(40);e.e=r},function(e,t,n){function r(e,t,n,r){n||(n={});for(var o=-1,a=t.length;++o<a;){var c=t[o],u=r?r(n[c],e[c],c,n,e):e[c];i(n,c,u)}return n}var i=n(35);e.e=r},function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(21),o=n(118);e.e=r},function(e,t,n){function r(e){return o(function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,c=o>2?n[2]:void 0;for(a="function"==typeof a?(o--,a):void 0,c&&i(n[0],n[1],c)&&(a=3>o?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t})}var i=n(126),o=n(47);e.e=r},function(e,t,n){function r(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),c=a.length;c--;){var u=a[e?c:++i];if(n(o[u],u,o)===!1)break}return t}}e.e=r},function(e,t,n){var r=n(104),i=r("length");e.e=i},function(e,t,n){var r=Object.getOwnPropertySymbols,i=r||function(){return[]};e.e=i},function(e,t,n){function r(e){return p.call(e)}var i=n(4),o=n(84),a=n(87),c="[object Map]",u="[object Object]",s="[object Set]",f="[object WeakMap]",l=Object.prototype,d=Function.prototype.toString,p=l.toString,h=i?d.call(i):"",v=o?d.call(o):"",m=a?d.call(a):"";(i&&r(new i)!=c||o&&r(new o)!=s||a&&r(new a)!=f)&&(r=function(e){var t=p.call(e),n=t==u?e.constructor:null,r="function"==typeof n?d.call(n):"";if(r)switch(r){case h:return c;case v:return s;case m:return f}return t}),e.e=r},function(e,t,n){function r(e,t){return i(e,t)&&delete e[t]}var i=n(42);e.e=r},function(e,t,n){function r(e,t){if(i){var n=e[t];return n===o?void 0:n}return c.call(e,t)?e[t]:void 0}var i=n(14),o="__lodash_hash_undefined__",a=Object.prototype,c=a.hasOwnProperty;e.e=r},function(e,t,n){function r(e,t,n){e[t]=i&&void 0===n?o:n}var i=n(14),o="__lodash_hash_undefined__";e.e=r},function(e,t,n){function r(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&o.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var i=Object.prototype,o=i.hasOwnProperty;e.e=r},function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case y:return i(e);case f:case l:return new r(+e);case b:case _:case w:case C:case E:case T:case S:case R:case x:return s(e,n);case d:return o(e);case p:case m:return new r(e);case h:return a(e);case v:return c(e);case g:return u(e)}}var i=n(40),o=n(108),a=n(109),c=n(110),u=n(111),s=n(112),f="[object Boolean]",l="[object Date]",d="[object Map]",p="[object Number]",h="[object RegExp]",v="[object Set]",m="[object String]",g="[object Symbol]",y="[object ArrayBuffer]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",T="[object Uint8Array]",S="[object Uint8ClampedArray]",R="[object Uint16Array]",x="[object Uint32Array]";e.e=r},function(e,t,n){function r(e){return"function"!=typeof e.constructor||o(e)?{}:i(a(e))}var i=n(94),o=n(24),a=Object.getPrototypeOf;e.e=r},function(e,t,n){function r(e,t,n){
if(!c(n))return!1;var r=typeof t;return("number"==r?o(n)&&a(t,n.length):"string"==r&&t in n)?i(n[t],e):!1}var i=n(15),o=n(26),a=n(23),c=n(2);e.e=r},function(e,t,n){function r(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}e.e=r},function(e,t,n){function r(){this.__data__={hash:new i,map:o?new o:[],string:new i}}var i=n(81),o=n(4);e.e=r},function(e,t,n){function r(e){var t=this.__data__;return c(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map["delete"](e):o(t.map,e)}var i=n(4),o=n(36),a=n(120),c=n(13);e.e=r},function(e,t,n){function r(e){var t=this.__data__;return c(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map.get(e):o(t.map,e)}var i=n(4),o=n(37),a=n(121),c=n(13);e.e=r},function(e,t,n){function r(e){var t=this.__data__;return c(e)?a("string"==typeof e?t.string:t.hash,e):i?t.map.has(e):o(t.map,e)}var i=n(4),o=n(38),a=n(42),c=n(13);e.e=r},function(e,t,n){function r(e,t){var n=this.__data__;return c(e)?a("string"==typeof e?n.string:n.hash,e,t):i?n.map.set(e,t):o(n.map,e,t),this}var i=n(4),o=n(39),a=n(122),c=n(13);e.e=r},function(e,t,n){function r(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}e.e=r},function(e,t,n){function r(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}e.e=r},function(e,t,n){function r(){this.__data__={array:[],map:null}}e.e=r},function(e,t,n){function r(e){var t=this.__data__,n=t.array;return n?i(n,e):t.map["delete"](e)}var i=n(36);e.e=r},function(e,t,n){function r(e){var t=this.__data__,n=t.array;return n?i(n,e):t.map.get(e)}var i=n(37);e.e=r},function(e,t,n){function r(e){var t=this.__data__,n=t.array;return n?i(n,e):t.map.has(e)}var i=n(38);e.e=r},function(e,t,n){function r(e,t){var n=this.__data__,r=n.array;r&&(r.length<a-1?o(r,e,t):(n.array=null,n.map=new i(r)));var c=n.map;return c&&c.set(e,t),this}var i=n(82),o=n(39),a=200;e.e=r},function(e,t,n){function r(e){return function(){return e}}e.e=r},function(e,t,n){(function(e){var r=n(140),i=n(1),o={"function":!0,object:!0},a=o[typeof t]&&t&&!t.nodeType?t:void 0,c=o[typeof e]&&e&&!e.nodeType?e:void 0,u=c&&c.exports===a?a:void 0,s=u?i.Buffer:void 0,f=s?function(e){return e instanceof s}:r(!1);e.e=f}).call(t,n(48)(e))},function(e,t,n){function r(e){return null==e?!1:i(e)?d.test(f.call(e)):a(e)&&(o(e)?d:u).test(e)}var i=n(16),o=n(22),a=n(8),c=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Object.prototype,f=Function.prototype.toString,l=s.hasOwnProperty,d=RegExp("^"+f.call(l).replace(c,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.e=r},function(e,t,n){function r(e){if(!o(e)||f.call(e)!=a||i(e))return!1;var t=l(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==s}var i=n(22),o=n(8),a="[object Object]",c=Object.prototype,u=Function.prototype.toString,s=u.call(Object),f=c.toString,l=Object.getPrototypeOf;e.e=r},function(e,t,n){function r(e){return"string"==typeof e||!i(e)&&o(e)&&u.call(e)==a}var i=n(5),o=n(8),a="[object String]",c=Object.prototype,u=c.toString;e.e=r},function(e,t,n){var r=n(95),i=n(103),o=n(47),a=o(function(e,t){return null==e?{}:i(e,r(t,1))});e.e=a},function(e,t,n){function r(e){if(!e)return 0===e?e:0;if(e=i(e),e===o||e===-o){var t=0>e?-1:1;return t*a}var n=e%1;return e===e?n?e-n:e:0}var i=n(147),o=1/0,a=1.7976931348623157e308;e.e=r},function(e,t,n){function r(e){if(o(e)){var t=i(e.valueOf)?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(c,"");var n=s.test(e);return n||f.test(e)?l(e.slice(2),n?2:8):u.test(e)?a:+e}var i=n(16),o=n(2),a=NaN,c=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;e.e=r},function(e,t,n){function r(e){return i(e,o(e))}var i=n(21),o=n(46);e.e=r},function(e,t,n){"use strict";var r={};r.generateIdentifier=function(){return Math.random().toString(36).substr(2,10)},r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){var t=e.split("\nm=");return t.map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){var t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");for(var n={foundation:t[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},r.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)t=r[i].trim().split("="),n[t[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){r.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.getDtlsParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i=n.filter(function(e){return 0===e.indexOf("a=fingerprint:")})[0].substr(14),o={role:"auto",fingerprints:[{algorithm:i.split(" ")[0],value:i.split(" ")[1]}]};return o},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);n=n.concat(r.splitLines(t));var i={usernameFragment:n.filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)};return i},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e),i=n[0].split(" "),o=3;o<i.length;o++){var a=i[o],c=r.matchPrefix(e,"a=rtpmap:"+a+" ")[0];if(c){var u=r.parseRtpMap(c),s=r.matchPrefix(e,"a=fmtp:"+a+" ");switch(u.parameters=s.length?r.parseFmtp(s[0]):{},u.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+a+" ").map(r.parseRtcpFb),t.codecs.push(u),u.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(u.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";return n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}),n+="a=rtcp-mux\r\n"},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),c=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),u=c.length>0&&c[0].ssrc,s=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});s.length>0&&s[0].length>1&&s[0][0]===u&&(t=s[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:u,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{payloadType:e.payloadType,ssrc:t}};n.push(r),o&&(r=JSON.parse(JSON.stringify(r)),r.fec={ssrc:t,mechanism:a?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&u&&n.push({ssrc:u});var f=r.matchPrefix(e,"b=");return f.length&&(0===f[0].indexOf("b=TIAS:")?f=parseInt(f[0].substr(7),10):0===f[0].indexOf("b=AS:")&&(f=parseInt(f[0].substr(5),10)),n.forEach(function(e){e.maxBitrate=f})),n},r.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",o+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n"},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},e.e=r},function(e,t,n){"use strict";!function(){var t=n(0).log,r=n(0).browserDetails;e.e.browserDetails=r,e.e.extractVersion=n(0).extractVersion,e.e.disableLog=n(0).disableLog;var i=n(151)||null,o=n(153)||null,a=n(155)||null,c=n(157)||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void t("Chrome shim is not included in this adapter release.");t("adapter.js shimming chrome."),e.e.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void t("Firefox shim is not included in this adapter release.");t("adapter.js shimming firefox."),e.e.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void t("MS edge shim is not included in this adapter release.");t("adapter.js shimming edge."),e.e.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!c)return void t("Safari shim is not included in this adapter release.");t("adapter.js shimming safari."),e.e.browserShim=c,c.shimGetUserMedia();break;default:t("Unsupported browser!")}}()},function(e,t,n){"use strict";var r=n(0).log,i=n(0).browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)}),e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;return this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),void e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})):void(this.src="")}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return i(e,t);var a=function(e){var t={},n=e.result();return n.forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},c=function(e,t){var n=new Map(Object.keys(e).map(function(t){return[t,e[t]]}));return t=t||e,Object.keys(t).forEach(function(e){n[e]=t[e]}),n};if(arguments.length>=2){var u=function(e){o[1](c(a(e)))};return i.apply(this,[u,arguments[0]])}return new Promise(function(t,n){1===o.length&&"object"==typeof e?i.apply(r,[function(e){t(c(a(e)))},n]):i.apply(r,[function(e){t(c(a(e),e.result()))},n])}).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),i.version<51&&(["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,i){t.apply(e,[r,i,n])})}return t.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise(function(r,i){t.apply(n,[e[0],r,i])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}));var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)},["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}})},attachMediaStream:function(e,t){r("DEPRECATED, attachMediaStream will soon be removed."),i.version>=43?e.srcObject=t:"undefined"!=typeof e.src?e.src=URL.createObjectURL(t):r("Error attaching stream to element.")},reattachMediaStream:function(e,t){r("DEPRECATED, reattachMediaStream will soon be removed."),i.version>=43?e.srcObject=t.srcObject:e.src=t.src}};e.e={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(152),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(e,t,n){"use strict";var r=n(0).log;e.e=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),o={},o[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if(t=JSON.parse(JSON.stringify(t)),t&&t.audio&&(t.audio=e(t.audio)),t&&"object"==typeof t.video){var i=t.video.facingMode;if(i=i&&("object"==typeof i?i:{ideal:i}),i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then(function(o){o=o.filter(function(e){return"videoinput"===e.kind});var a=o.find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||o.length&&o[o.length-1];return a&&(t.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),t.video=e(t.video),r("chrome: "+JSON.stringify(t)),n(t)});t.video=e(t.video)}return r("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}},i=function(e,r,i){t(e,function(e){navigator.webkitGetUserMedia(e,r,function(e){i(n(e))})})};navigator.getUserMedia=i;var o=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:o,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return a(e)["catch"](function(e){return Promise.reject(n(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return o(e)};"undefined"==typeof navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),"undefined"==typeof navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,n){"use strict";var r=n(149),i=n(0).log,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e})),window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}e&&e.iceServers&&(this.iceOptions.iceServers=e.iceServers.filter(function(e){return e&&e.urls?(e.urls=e.urls.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")})[0],!!e.urls):!1})),this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){var r=!n.candidate||0===Object.keys(n.candidate).length;if(r)for(var i=1;i<t.length;i++)-1===t[i].indexOf("\r\na=end-of-candidates\r\n")&&(t[i]+="a=end-of-candidates\r\n");else-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");if(e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),!n.candidate&&"complete"!==e.iceGatheringState){var o=e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});o&&(e.iceGatheringState="complete")}}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach(function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i);break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var c=new Event("icecandidate");c.candidate={sdpMid:e,sdpMLineIndex:t};var u=a.candidate,s=!u||0===Object.keys(u).length;s?(void 0===i.state&&(i.state="completed"),c.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(u.component="RTCP"===o.component?2:1,c.candidate.candidate=r.writeCandidate(u));var f=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(c),s&&f&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(c),null!==n.onicecandidate&&n.onicecandidate(c),f&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete");break;case"complete":}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:r.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&(i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],c=a.iceGatherer,u=a.iceTransport,s=a.dtlsTransport,f=a.localCapabilities,l=a.remoteCapabilities,d="0"===e.split("\n",1)[0].split(" ",2)[1];if(!d){var p=r.getIceParameters(e,n);if(o){var h=r.matchPrefix(e,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return"1"===e.component});u.setRemoteCandidates(h)}u.start(c,p,o?"controlling":"controlled");var v=r.getDtlsParameters(e,n);o&&(v.role="server"),s.start(v);var m=i._getCommonCapabilities(f,l);i._transceive(a,m.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"==typeof arguments[1];if(a){var c=arguments[1];window.setTimeout(function(){c(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()},0)}var u=Promise.resolve();return u.then(function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))}),u},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],o=r.splitSections(e.sdp),a=o.shift(),c=r.matchPrefix(a,"a=ice-lite").length>0;switch(o.forEach(function(o,u){var s,f,l,d,p,h,v,m,g,y,b,_,w=r.splitLines(o),C=w[0].substr(2).split(" "),E=C[0],T="0"===C[1],S=r.getDirection(o,a),R=r.parseRtpParameters(o);T||(b=r.getIceParameters(o,a),_=r.getDtlsParameters(o,a),_.role="client"),m=r.parseRtpEncodingParameters(o);var x=r.matchPrefix(o,"a=mid:");x=x.length?x[0].substr(6):r.generateIdentifier();var O,D=r.matchPrefix(o,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];D&&(O=D.value);var P=r.matchPrefix(o,"a=end-of-candidates").length>0,A=r.matchPrefix(o,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||T)"answer"!==e.type||T||(s=t.transceivers[u],f=s.iceGatherer,l=s.iceTransport,d=s.dtlsTransport,p=s.rtpSender,h=s.rtpReceiver,v=s.sendEncodingParameters,g=s.localCapabilities,t.transceivers[u].recvEncodingParameters=m,t.transceivers[u].remoteCapabilities=R,t.transceivers[u].cname=O,(c||P)&&l.setRemoteCandidates(A),l.start(f,b,"controlling"),d.start(_),t._transceive(s,"sendrecv"===S||"recvonly"===S,"sendrecv"===S||"sendonly"===S),!h||"sendrecv"!==S&&"sendonly"!==S?delete s.rtpReceiver:(y=h.track,i.push([y,h]),n.addTrack(y)));else{var M=t._createIceAndDtlsTransports(x,u);if(P&&M.iceTransport.setRemoteCandidates(A),g=RTCRtpReceiver.getCapabilities(E),v=[{ssrc:1001*(2*u+2)}],h=new RTCRtpReceiver(M.dtlsTransport,E),y=h.track,i.push([y,h]),n.addTrack(y),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=u){var j=t.localStreams[0].getTracks()[u];p=new RTCRtpSender(j,M.dtlsTransport)}t.transceivers[u]={iceGatherer:M.iceGatherer,iceTransport:M.iceTransport,dtlsTransport:M.dtlsTransport,localCapabilities:g,remoteCapabilities:R,rtpSender:p,rtpReceiver:h,kind:E,mid:x,cname:O,sendEncodingParameters:v,recvEncodingParameters:m},t._transceive(t.transceivers[u],!1,"sendrecv"===S||"sendonly"===S)}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(a)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t=this,n={"new":0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){n[e.iceTransport.state]++,n[e.dtlsTransport.state]++}),n.connected+=n.completed,e="new",n.failed>0?e="failed":n.connecting>0||n.checking>0?e="connecting":n.disconnected>0?e="disconnected":n["new"]>0?e="new":(n.connected>0||n.completed>0)&&(e="connected"),e!==t.iceConnectionState){t.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this.dispatchEvent(r),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(r)}},window.RTCPeerConnection.prototype.createOffer=function(){var e=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");var t;1===arguments.length&&"function"!=typeof arguments[0]?t=arguments[0]:3===arguments.length&&(t=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),t){if(t.mandatory||t.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==t.offerToReceiveAudio&&(i=t.offerToReceiveAudio),void 0!==t.offerToReceiveVideo&&(o=t.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:o>0}),"audio"===e.kind?i--:"video"===e.kind&&o--});i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),c=[];n.forEach(function(t,n){var i,o,u=t.track,s=t.kind,f=r.generateIdentifier(),l=e._createIceAndDtlsTransports(f,n),d=RTCRtpSender.getCapabilities(s),p=[{ssrc:1001*(2*n+1)}];u&&(i=new RTCRtpSender(u,l.dtlsTransport)),t.wantReceive&&(o=new RTCRtpReceiver(l.dtlsTransport,s)),c[n]={iceGatherer:l.iceGatherer,iceTransport:l.iceTransport,dtlsTransport:l.dtlsTransport,localCapabilities:d,remoteCapabilities:null,
rtpSender:i,rtpReceiver:o,kind:s,mid:f,sendEncodingParameters:p,recvEncodingParameters:null};var h=c[n];a+=r.writeMediaSection(h,h.localCapabilities,"offer",e.localStreams[0])}),this._pendingOffer=c;var u=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,u),Promise.resolve(u)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=r.writeSessionBoilerplate();this.transceivers.forEach(function(n){var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])});var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(null===e)this.transceivers.forEach(function(e){e.iceTransport.addIceCandidate({})});else{var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var o=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===o.protocol&&0===o.port)return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[t+1]+=(o.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){r.set(t,e[t]),r[t]=e[t]})}),t&&window.setTimeout(t,0,r),n(r)})})}},attachMediaStream:function(e,t){i("DEPRECATED, attachMediaStream will soon be removed."),e.srcObject=t},reattachMediaStream:function(e,t){i("DEPRECATED, reattachMediaStream will soon be removed."),e.srcObject=t.srcObject}};e.e={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(154),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(e,t,n){"use strict";e.e=function(){var e=function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}},t=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(n){return t(n)["catch"](function(t){return Promise.reject(e(t))})}}},function(e,t,n){"use strict";var r=n(0).log,i=n(0).browserDetails,o={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(i.version<38&&e&&e.iceServers){for(var n=[],r=0;r<e.iceServers.length;r++){var o=e.iceServers[r];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var c={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(c.username=o.username,c.credential=o.credential),n.push(c)}else n.push(e.iceServers[r])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)};var t=function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t},n=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,r,i){return n.apply(this,[e||null]).then(function(e){return t(e)}).then(r,i)}}},shimGetUserMedia:function(){var e=function(e,t,n){var o=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),i.version<38&&(r("spec: "+JSON.stringify(e)),e.audio&&(e.audio=o(e.audio)),e.video&&(e.video=o(e.video)),r("ff37: "+JSON.stringify(e))),navigator.mozGetUserMedia(e,t,n)};navigator.getUserMedia=e;var t=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:t,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){var t=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];e(t)})},i.version<41){var n=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return n().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}},attachMediaStream:function(e,t){r("DEPRECATED, attachMediaStream will soon be removed."),e.srcObject=t},reattachMediaStream:function(e,t){r("DEPRECATED, reattachMediaStream will soon be removed."),e.srcObject=t.srcObject}};e.e={shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:n(156),attachMediaStream:o.attachMediaStream,reattachMediaStream:o.reattachMediaStream}},function(e,t,n){"use strict";var r=n(0).log,i=n(0).browserDetails;e.e=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,o){var a=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof r.ideal?i[n]={min:r.ideal,max:r.ideal}:i[n]=r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}}),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),i.version<38&&(r("spec: "+JSON.stringify(t)),t.audio&&(t.audio=a(t.audio)),t.video&&(t.video=a(t.video)),r("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,function(t){o(e(t))})};navigator.getUserMedia=t;var n=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:n,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){var t=[{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}];e(t)})},i.version<41){var o=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return o().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(i.version<49){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return a(t)["catch"](function(t){return Promise.reject(e(t))})}}}},function(e,t,n){"use strict";var r={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}};e.e={shimGetUserMedia:r.shimGetUserMedia}},function(e,t,n){e.e=n(49)}])});